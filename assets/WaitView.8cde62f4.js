import{u as le,a as W,a2 as oe,c as m,r as _,a3 as se,a4 as ne,o as i,b as v,d as g,w as y,F as C,e as M,t as s,f as c,g as t,h as b,a5 as re,a6 as ie,j as l,i as h,m as de,a7 as E,l as P,v as A,V as ue,W as ce,n as ge,Y as R,X as ve,$ as he,Z as me,k as be,M as ye,p as L,q as _e,S as xe}from"./index.029a4799.js";import{_ as pe}from"./image-2.36edbb92.js";import{_ as ke}from"./CardBoxModal.16e8dfc3.js";import{_ as fe}from"./TableCheckboxCell.ded96db1.js";import{_ as we}from"./SkeletonTable.78c6c79b.js";const Se=t("p",null,[L("Vui l\xF2ng s\u1EED d\u1EE5ng t\u1ED5 h\u1EE3p "),t("kbd",{class:"px-2 py-1.5 text-xs font-semibold text-gray-800 bg-gray-100 border border-gray-200 rounded-lg dark:bg-gray-600 dark:text-gray-100 dark:border-gray-500"},"Ctrl"),L(" + Click chu\u1ED9t \u0111\u1EC3 ho\xE0n t\u1EA5t ")],-1),Te={key:0,class:"p-3 bg-gray-100/50 dark:bg-slate-800"},Ne={key:0},De=t("th",null,"STT",-1),$e=t("th",null,"MSSV",-1),Ce=t("th",null,[L("T\xCAN "),t("span",{class:"hidden lg:inline"}," - NG\xC0Y SINH - NG\xC0NH")],-1),Pe=t("th",{class:"lg:hidden"},"NG\xC0Y SINH",-1),Le=t("th",{class:"lg:hidden"},"NG\xC0NH",-1),He=t("th",{class:"whitespace-nowrap"},"S\u1ED0 V\xC0O S\u1ED4",-1),Ve=t("th",null,"GDQP",-1),Me=t("th",{class:"whitespace-nowrap"},"THI\u1EBEU HS, HP",-1),Re=t("th",null,"KH\u1EA2O S\xC1T",-1),Ge=t("th",null,"L\u1EC4 PH\u1EE4C",-1),Ie=t("th",null,"TR\u1EA0NG TH\xC1I",-1),Ke=["onDblclick"],Qe={"data-label":"STT"},je={"data-label":"MSSV"},Fe={"data-label":"T\xEAn",class:"lg:whitespace-nowrap"},Be={class:"font-bold"},Ee={class:"hidden lg:block"},We={class:"hidden lg:block"},Ae={"data-label":"Ng\xE0y Sinh",class:"lg:hidden"},Oe={"data-label":"Ng\xE0nh",class:"lg:hidden"},Ue={"data-label":"S\u1ED1 V\xE0o S\u1ED5"},Xe={"data-label":"GDQP"},qe={"data-label":"Thi\u1EBFu HS, HP"},Ye={"data-label":"Kh\u1EA3o s\xE1t"},ze={"data-label":"L\u1EC5 Ph\u1EE5c"},Ze={class:"before:hidden lg:w-1 whitespace-nowrap"},Je={key:0},et={class:"p-3 lg:px-6 border-t border-gray-100 dark:border-slate-800 select-none"},tt={key:2},at={key:3},lt={key:0},ot={key:2,class:"p-3 lg:px-6 flex justify-end items-center border-t border-gray-100 dark:border-slate-800 select-none"},st=t("small",{class:"mr-10"},[t("span",null,"Ph\xEDm t\u1EAFt: "),t("kbd",{class:"px-2 py-1.5 text-xs font-semibold text-gray-800 bg-gray-100 border border-gray-200 rounded-lg dark:bg-gray-600 dark:text-gray-100 dark:border-gray-500"},"Ctrl"),L(" + "),t("kbd",{class:"px-2 py-1.5 text-xs font-semibold text-gray-800 bg-gray-100 border border-gray-200 rounded-lg dark:bg-gray-600 dark:text-gray-100 dark:border-gray-500"},"S"),t("span",null," ho\u1EB7c "),t("kbd",{class:"px-2 py-1.5 text-xs font-semibold text-gray-800 bg-gray-100 border border-gray-200 rounded-lg dark:bg-gray-600 dark:text-gray-100 dark:border-gray-500"},"Ctrl"),t("span",null," + Click: ")],-1),nt={class:"relative px-5 py-2.5 transition-all ease-in duration-75 bg-white dark:bg-gray-900 rounded-md group-hover:bg-opacity-0"},rt={class:"px-2 lg:w-2/3"},it={class:"mb-5 text-3xl md:text-5xl font-bold text-gray-900 dark:text-white text-center drop-shadow-lg"},dt={class:"mb-5 text-xl md:text-3xl lg:text-5xl font-bold text-gray-700 dark:text-gray-200 text-center drop-shadow-lg"},ut={class:"flex flex-col md:flex-row mt-5 mb-5"},ct={class:"md:w-1/2"},gt={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},vt={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},ht={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},mt={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},bt={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},yt={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},_t={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},xt={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},pt={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},kt={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},ft={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},wt={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},St=t("div",{class:"justify-center items-center space-y-4 sm:flex sm:space-y-0 sm:space-x-4"},null,-1),Tt={class:"lg:w-1/3 bg-white rounded-lg border border-gray-200 shadow-md dark:bg-gray-800 dark:border-gray-700"},Nt={class:"relative"},Dt=t("img",{class:"rounded-t-lg w-full",src:pe,alt:""},null,-1),$t={class:"sticker absolute text-9xl text-white font-bold left-1/2 top-1/2 -translate-x-2/4 -translate-y-2/4 drop-shadow-lg"},Ct={class:"p-5"},Pt=t("h5",{class:"mb-5 text-center text-2xl font-bold tracking-tight text-gray-900 dark:text-white"}," T\xECm v\xE0 ph\xE1t b\u1EB1ng ",-1),Lt={__name:"TableStudentWait",props:{checkable:Boolean},setup(H){const f=le(),d=W();oe();const O=o=>d.transferToOldPositionQueue(o),U=o=>d.removeFromQueue(o),V=o=>d.transferToProcess(o),G=o=>d.transferMultiToProcess(o),D=m(()=>{let o;return d.dataTo>0&&d.dataFrom>0?o=d.students.filter(e=>e.Row<=d.dataTo&&e.Row>=d.dataFrom):o=d.students,o=o.filter(e=>e.TrangThai==1),o.sort((e,a)=>new Date(e.NgayTao)-new Date(a.NgayTao))}),I=m(()=>{let o=d.students;return d.dataTo>0&&d.dataFrom>0?o.filter((e,a)=>e.Row<=d.dataTo&&e.Row>=d.dataFrom&&(e.TrangThai==3||e.TrangThai==2)).length:o.filter((e,a)=>e.TrangThai==3||e.TrangThai==2).length}),r=_({}),K=_(0),Q=(o,e)=>{r.value=o,K.value=e,w.value=!w.value},X=m(()=>d.Area>0?`\u0111\u1EBFn qu\u1EA7y s\u1ED1 ${d.Area}, \u0111\u1EC3 nh\u1EADn b\u1EB1ng`:"\u0111\u1EBFn qu\u1EA7y h\u1ED3 s\u01A1!"),w=_(!1),$=_(!1),j=m(()=>d.apiLoading),S=_(10),n=_(1),x=_(0),p=_(0),N=_([]),q=m(()=>D.value.slice(S.value*(n.value-1),S.value*n.value)),Y=m(()=>n.value<u.value?n.value+1:u.value),z=m(()=>n.value>1?n.value-1:1),u=m(()=>Math.ceil(D.value.length/S.value)),Z=m(()=>n.value),J=m(()=>{const o=[];if(u.value<=7)for(let e=1;e<=u.value;e++)o.push(e);else{n.value>3?x.value=2:x.value=n.value-1,n.value<u.value-2?p.value=2:p.value=u.value-n.value,p.value=x.value<2?p.value+(2-x.value):p.value,x.value=p.value<2?x.value+(2-p.value):x.value;for(let e=x.value;e>0;e--)o.push(n.value-e);o.push(n.value);for(let e=0;e<p.value;e++)o.push(n.value+e+1)}return o}),T=m(()=>{const o=[];return D.value.slice(0,S.value).map(e=>{o.push(e.Row)}),o}),ee=(o,e)=>{const a=[];return o.forEach(k=>{e(k)||a.push(k)}),a},te=(o,e)=>{o?N.value.push(e):N.value=ee(N.value,a=>a.id===e.id)},ae=o=>{const e=new SpeechSynthesisUtterance(o);e.pitch=1.4,e.rate=.5,e.volume=1,speechSynthesis.speak(e)},F=o=>{o.ctrlKey&&o.key==="s"&&(o.preventDefault(),T.value&&T.value.length>0&&G(T.value))};return se(()=>{d.isKeyWaitViewRegistered||(window.addEventListener("keydown",F),d.isKeyWaitViewRegistered=!0)}),ne(()=>{window.removeEventListener("keydown",F),d.isKeyWaitViewRegistered=!1}),(o,e)=>(i(),v(C,null,[g(ke,{modelValue:$.value,"onUpdate:modelValue":e[0]||(e[0]=a=>$.value=a),"large-title":"Th\xF4ng b\xE1o",button:"danger","has-cancel":""},{default:y(()=>[Se]),_:1},8,["modelValue"]),N.value.length?(i(),v("div",Te,[(i(!0),v(C,null,M(N.value,a=>(i(),v("span",{key:a.id,class:"inline-block px-2 py-1 rounded-sm mr-2 text-sm bg-gray-100 dark:bg-slate-700"},s(a.name),1))),128))])):c("",!0),t("table",null,[t("thead",null,[t("tr",null,[H.checkable?(i(),v("th",Ne)):c("",!0),De,$e,Ce,Pe,Le,He,Ve,Me,Re,Ge,Ie])]),t("tbody",null,[(i(!0),v(C,null,M(l(q),(a,k)=>(i(),v("tr",{key:a.Row,onDblclick:B=>Q(a,k)},[H.checkable?(i(),b(fe,re({key:0},ie(te(o.$event,a))),null,16)):c("",!0),t("td",Qe,s(k+1+l(I)+(n.value-1)*S.value),1),t("td",je,s(a.MSSV),1),t("td",Fe,[t("p",Be,s(a.HoTen),1),t("small",Ee,s(new Date(a.NgaySinh).toLocaleDateString()=="Invalid Date"?a.NgaySinh:new Date(a.NgaySinh).toLocaleDateString()),1),t("small",We,s(a.Nganh),1)]),t("td",Ae,s(new Date(a.NgaySinh).toLocaleDateString()=="Invalid Date"?a.NgaySinh:new Date(a.NgaySinh).toLocaleDateString()),1),t("td",Oe,s(a.Nganh),1),t("td",Ue,s(a.SoVaoSo),1),t("td",Xe,s(a.GDQP),1),t("td",qe,s(a.ThieuHSHP),1),t("td",Ye,s(a.KhaoSat),1),t("td",ze,s(a.LePhuc),1),t("td",Ze,[g(P,{type:"justify-end","no-wrap":""},{default:y(()=>[a.TrangThai==1?(i(),v("span",Je,[g(h,{color:"info",icon:l(de),small:"",onClick:B=>Q(a,k)},null,8,["icon","onClick"]),g(h,{color:"danger",icon:l(E),small:"",onClick:B=>V(a.Row)},null,8,["icon","onClick"])])):c("",!0)]),_:2},1024)])],40,Ke))),128))]),l(j)&&l(u)<=0?(i(),b(we,{key:0,buttonSkeleton:"wait"})):c("",!0)]),!l(j)&&l(u)<=0&&l(D)?(i(),b(A,{key:1,empty:""})):c("",!0),t("div",et,[g(ge,null,{default:y(()=>[g(P,null,{default:y(()=>[l(u)>0?(i(),b(h,{key:0,disabled:n.value===1,icon:l(ue),small:"",outline:l(f).darkMode,onClick:e[1]||(e[1]=a=>n.value=l(z))},null,8,["disabled","icon","outline"])):c("",!0),n.value>3?(i(),b(h,{key:1,active:n.value==1,label:1,small:"",outline:l(f).darkMode,onClick:e[2]||(e[2]=a=>n.value=1)},null,8,["active","outline"])):c("",!0),n.value>4?(i(),v("span",tt,"...")):c("",!0),(i(!0),v(C,null,M(l(J),a=>(i(),b(h,{key:a,active:a===n.value,label:a,small:"",outline:l(f).darkMode,onClick:k=>n.value=a},null,8,["active","label","outline","onClick"]))),128)),n.value<l(u)-3?(i(),v("span",at,"...")):c("",!0),n.value<l(u)-2?(i(),b(h,{key:4,active:n.value==l(u),label:l(u),small:"",outline:l(f).darkMode,onClick:e[3]||(e[3]=a=>n.value=l(u))},null,8,["active","label","outline"])):c("",!0),l(u)>0?(i(),b(h,{key:5,disabled:n.value===l(u),icon:l(ce),small:"",outline:l(f).darkMode,onClick:e[4]||(e[4]=a=>n.value=l(Y))},null,8,["disabled","icon","outline"])):c("",!0)]),_:1}),l(u)>0?(i(),v("small",lt,"Page "+s(l(Z))+" of "+s(l(u)),1)):c("",!0)]),_:1})]),l(u)>0&&l(T).length>0?(i(),v("div",ot,[st,t("button",{onDblclick:e[5]||(e[5]=a=>$.value=!$.value),onClick:e[6]||(e[6]=R(a=>G(l(T)),["ctrl"])),class:"relative inline-flex items-center justify-center p-0.5 mb-2 mr-2 overflow-hidden text-sm font-medium text-gray-900 rounded-lg group bg-gradient-to-br from-purple-600 to-blue-500 group-hover:from-purple-600 group-hover:to-blue-500 hover:text-white dark:text-white focus:ring-4 focus:outline-none focus:ring-blue-300 dark:focus:ring-blue-800"},[t("span",nt,s(`\u0110\xE3 t\xECm xong b\u1EB1ng c\u1EE7a ${l(T).length} SV \u1EDF trang 1`),1)],32)])):c("",!0),t("section",null,[w.value?(i(),b(ye,{key:0,onClick:e[13]||(e[13]=R(a=>w.value=!w.value,["stop"]))},{default:y(()=>[r.value?(i(),v("section",{key:0,class:"flex flex-col lg:flex-row p-2 mb-4 w-full max-w-5xl z-10 bg-white rounded-lg border shadow-md sm:p-8 dark:bg-gray-800 dark:border-gray-700",onClick:e[12]||(e[12]=a=>w.value=!0)},[t("div",rt,[t("h4",it,s(r.value.HoTen),1),t("h5",dt,s(r.value.SoVaoSo),1),t("div",ut,[t("div",ct,[t("p",gt," MSSV: "+s(r.value.MSSV),1),t("p",vt," Ng\xE0y sinh: "+s(new Date(r.value.NgaySinh).toLocaleDateString()=="Invalid Date"?r.value.NgaySinh:new Date(r.value.NgaySinh).toLocaleDateString("vi",{dateStyle:"short"})),1),t("p",ht," Ng\xE0nh: "+s(r.value.Nganh),1),t("p",mt," X\u1EBFp Lo\u1EA1i: "+s(r.value.XepLoai),1),t("p",bt," \u0110i\u1EC7n tho\u1EA1i: "+s(r.value.DienThoai.toLocaleString("vi",{minimumIntegerDigits:10,useGrouping:!1})),1),t("p",yt," Email: "+s(r.value.Email),1)]),t("div",null,[t("p",_t," S\u1ED1 hi\u1EC7u b\u1EB1ng: "+s(r.value.SoHieuBang),1),t("p",xt," GDQP: "+s(r.value.GDQP),1),t("p",pt," Thi\u1EBFu HS, HP: "+s(r.value.ThieuHSHP),1),t("p",kt," Kh\u1EA3o s\xE1t: "+s(r.value.KhaoSat),1),t("p",ft," L\u1EC5 ph\u1EE5c: "+s(r.value.LePhuc),1),t("p",wt," Th\u1EDDi gian: "+s(new Date(r.value.NgayTao).toLocaleString()=="Invalid Date"?r.value.NgayTao:new Date(r.value.NgayTao).toLocaleString("vi")),1)])]),St]),t("div",Tt,[t("div",Nt,[Dt,t("span",$t,s(K.value+1+l(I)+(n.value-1)*S.value),1)]),t("div",Ct,[g(P,{type:"justify-center lg:justify-around mb-5","no-wrap":""},{default:y(()=>[g(h,{color:"success",icon:l(E),onClick:e[7]||(e[7]=a=>V(r.value.Row)),label:"L\u1EA5y b\u1EB1ng"},null,8,["icon"])]),_:1}),Pt,g(P,{type:"justify-center mb-5","no-wrap":""},{default:y(()=>[g(h,{color:"success",icon:l(ve),small:"",onClick:e[8]||(e[8]=R(a=>ae(`Xin m\u1EDDi b\u1EA1n:  ${r.value.HoTen}, ${l(X)}`),["stop"]))},null,8,["icon"]),g(h,{color:"warning",icon:l(he),small:"",onClick:e[9]||(e[9]=a=>V(r.value.Row))},null,8,["icon"]),r.value.TrangThai===2?(i(),b(h,{key:0,color:"warning",icon:l(me),small:"",onClick:e[10]||(e[10]=a=>O(r.value.Row))},null,8,["icon"])):c("",!0),g(h,{color:"danger",icon:l(be),small:"",onClick:e[11]||(e[11]=a=>U(r.value.Row))},null,8,["icon"])]),_:1})])])])):c("",!0)]),_:1})):c("",!0)])],64))}},It={__name:"WaitView",setup(H){return W(),(f,d)=>(i(),b(_e,null,{default:y(()=>[g(xe,null,{default:y(()=>[g(A,{class:"mb-6","has-table":""},{default:y(()=>[g(Lt)]),_:1})]),_:1})]),_:1}))}};export{It as default};
