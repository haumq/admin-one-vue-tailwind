import{o as n,b as h,g as a,u as se,a as W,a0 as ne,c as _,r as b,a1 as ie,a2 as re,d as g,w as y,j as e,t as i,h as c,l as D,i as v,W as de,Y as q,f as u,Z as O,k as X,v as V,F as L,e as H,U as ue,V as ce,n as he,p as M,q as ge,S as me}from"./index.a0f54a48.js";import{_ as _e}from"./image-2.36edbb92.js";import{_ as A}from"./CardBoxModal.9150f4a3.js";import{_ as ve}from"./SkeletonTable.cdd0a9a0.js";import{S as ye}from"./SkeletonHero.0822b236.js";import{_ as pe}from"./TableCheckboxCell.f3f154ce.js";import{_ as fe}from"./ButtonFinish.dcb80b74.js";import{B as Y}from"./ButtonPropressing.0b06d6e4.js";const be={class:"relative inline-flex items-center justify-center p-0.5 mb-2 mr-2 overflow-hidden text-sm font-medium text-gray-900 rounded-lg group bg-gradient-to-br from-cyan-500 to-blue-500 group-hover:from-cyan-500 group-hover:to-blue-500 hover:text-white dark:text-white focus:outline-none focus:bg-blue-500 focus:ring"},ke=a("span",{class:"relative px-2.5 py-1.5 transition-all ease-in duration-75 bg-white dark:bg-gray-900 rounded-md group-hover:bg-opacity-0"}," Ch\u1ECDn x\u1EED l\xFD ",-1),xe=[ke],Se={__name:"ButtonHandle",setup(w){return(k,m)=>(n(),h("button",be,xe))}},we=a("p",null,[M("Lorem ipsum dolor sit amet "),a("b",null,"adipiscing elit")],-1),Te=a("p",null,"This is sample modal",-1),Ne=a("p",null,[M("Lorem ipsum dolor sit amet "),a("b",null,"adipiscing elit")],-1),De=a("p",null,"This is sample modal",-1),Le={key:0,class:"flex flex-col lg:flex-row p-2 mb-4 w-full bg-white rounded-lg border shadow-md sm:p-8 dark:bg-gray-800 dark:border-gray-700"},Pe={class:"px-2 lg:w-2/3"},Ce={class:"mb-5 text-3xl md:text-5xl font-bold text-gray-900 dark:text-white text-center drop-shadow-lg"},$e={class:"mb-5 text-xl md:text-3xl lg:text-5xl font-bold text-gray-700 dark:text-gray-200 text-center drop-shadow-lg"},He={class:"flex flex-col md:flex-row mt-5 mb-5"},Ve={class:"md:w-1/2"},Me={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},Re={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},Qe={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},Ke={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},Ge={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},Be={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},Ee={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},Ie={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},je={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},Fe={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},Ue={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},qe={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},Oe=a("div",{class:"justify-center items-center space-y-4 sm:flex sm:space-y-0 sm:space-x-4"},null,-1),Xe={class:"lg:w-1/3 bg-white rounded-lg border border-gray-200 shadow-md dark:bg-gray-800 dark:border-gray-700"},Ae={class:"relative"},Ye=a("img",{class:"rounded-t-lg w-full",src:_e,alt:""},null,-1),We={class:"sticker absolute text-9xl text-white font-bold left-1/2 top-1/2 -translate-x-2/4 -translate-y-2/4 drop-shadow-lg"},Ze={class:"p-5"},ze={key:3},Je=a("h5",{class:"mb-5 text-center text-2xl font-bold tracking-tight text-gray-900 dark:text-white"}," Noteworthy technology ",-1),et={key:3,class:"p-3 bg-gray-100/50 dark:bg-slate-800"},tt={key:0},at=a("th",null,"STT",-1),lt=a("th",null,"MSSV",-1),ot=a("th",null,[M("T\xCAN "),a("span",{class:"hidden lg:inline"}," - NG\xC0Y SINH - NG\xC0NH")],-1),st=a("th",{class:"lg:hidden"},"NG\xC0Y SINH",-1),nt=a("th",{class:"lg:hidden"},"NG\xC0NH",-1),it=a("th",{class:"whitespace-nowrap"},"S\u1ED0 V\xC0O S\u1ED4",-1),rt=a("th",null,"GDQP",-1),dt=a("th",{class:"whitespace-nowrap"},"THI\u1EBEU HS, HP",-1),ut=a("th",null,"KH\u1EA2O S\xC1T",-1),ct=a("th",null,"L\u1EC4 PH\u1EE4C",-1),ht=a("th",null,"TR\u1EA0NG TH\xC1I",-1),gt={"data-label":"STT"},mt={"data-label":"MSSV"},_t={"data-label":"T\xEAn",class:"lg:whitespace-nowrap"},vt={class:"font-bold"},yt={class:"hidden lg:block"},pt={class:"hidden lg:block"},ft={"data-label":"Ng\xE0y Sinh",class:"lg:hidden"},bt={"data-label":"Ng\xE0nh",class:"lg:hidden"},kt={"data-label":"S\u1ED1 V\xE0o S\u1ED5"},xt={"data-label":"GDQP"},St={"data-label":"Thi\u1EBFu HS, HP"},wt={"data-label":"Kh\u1EA3o s\xE1t"},Tt={"data-label":"L\u1EC5 Ph\u1EE5c"},Nt={class:"before:hidden lg:w-1 whitespace-nowrap"},Dt={key:0},Lt={key:2},Pt={class:"p-3 lg:px-6 border-t border-gray-100 dark:border-slate-800 select-none"},Ct={key:2},$t={key:3},Ht={key:0},Vt={__name:"TableStudentQueue",props:{checkable:Boolean},setup(w){const k=se(),m=W();ne();const Z=_(()=>m.userEmail),R=s=>m.transferToProcess(s),Q=s=>m.transferToFisnish(s),P=s=>m.transferToLastQueue(s),K=s=>m.transferToOldPositionQueue(s),C=s=>m.removeFromQueue(s),G=_(()=>m.students.filter(t=>t.TrangThai==3).length),B=_(()=>{let s=m.students;return s=s.filter(t=>t.TrangThai==1||t.TrangThai==2),s.sort((t,l)=>new Date(t.NgayTao)-new Date(l.NgayTao))}),o=_(()=>B.value.filter(t=>t.TrangThai==1||t.TrangThai==2&&(t.NguoiXuLy==""||t.NguoiXuLy==Z.value)).shift()),E=_(()=>B.value.filter(t=>t!=o.value)),I=b(!1),j=b(!1),T=_(()=>m.apiLoading),N=b(10),r=b(1),p=b(0),f=b(0),x=b([]),z=_(()=>E.value.slice(N.value*(r.value-1),N.value*r.value)),J=_(()=>r.value<d.value?r.value+1:d.value),ee=_(()=>r.value>1?r.value-1:1),d=_(()=>Math.ceil(E.value.length/N.value)),te=_(()=>r.value),ae=_(()=>{const s=[];if(d.value<=7)for(let t=1;t<=d.value;t++)s.push(t);else{r.value>3?p.value=2:p.value=r.value-1,r.value<d.value-2?f.value=2:f.value=d.value-r.value,f.value=p.value<2?f.value+(2-p.value):f.value,p.value=f.value<2?p.value+(2-f.value):p.value;for(let t=p.value;t>0;t--)s.push(r.value-t);s.push(r.value);for(let t=0;t<f.value;t++)s.push(r.value+t+1)}return s}),le=(s,t)=>{const l=[];return s.forEach(S=>{t(S)||l.push(S)}),l},oe=(s,t)=>{s?x.value.push(t):x.value=le(x.value,l=>l.id===t.id)},F=s=>{if(s.key==="Enter")o.value.TrangThai===1&&R(o.value.Row);else if(s.key===" "||s.key==="Spacebar"||s.ctrlKey&&s.key==="s")s.preventDefault(),o.value.TrangThai===2&&Q(o.value.Row);else if(s.keyCode===120){if(s.preventDefault(),o.value){const t=`M\u1EDDi b\u1EA1n ${o.value.HoTen}, \u0111\u1EBFn qu\u1EA7y s\u1ED1 1, \u0111\u1EC3 nh\u1EADn b\u1EB1ng`;U(t)}}else s.keyCode===8?(s.preventDefault(),o.value&&K(o.value.Row)):s.keyCode===39?(s.preventDefault(),o.value&&P(o.value.Row)):s.shiftKey&&s.keyCode===46&&(s.preventDefault(),o.value&&C(o.value.Row))},U=s=>{const t=new SpeechSynthesisUtterance(s);t.pitch=1.2,t.rate=.5,t.volume=.8,speechSynthesis.speak(t)};return ie(()=>{m.isKeyQueueViewRegistered||(window.addEventListener("keydown",F),m.isKeyQueueViewRegistered=!0)}),re(()=>{window.removeEventListener("keydown",F),m.isKeyQueueViewRegistered=!1}),(s,t)=>(n(),h(L,null,[g(A,{modelValue:I.value,"onUpdate:modelValue":t[0]||(t[0]=l=>I.value=l),title:"Sample modal"},{default:y(()=>[we,Te]),_:1},8,["modelValue"]),g(A,{modelValue:j.value,"onUpdate:modelValue":t[1]||(t[1]=l=>j.value=l),"large-title":"Please confirm",button:"danger","has-cancel":""},{default:y(()=>[Ne,De]),_:1},8,["modelValue"]),e(o)?(n(),h("section",Le,[a("div",Pe,[a("h4",Ce,i(e(o).HoTen),1),a("h5",$e,i(e(o).SoVaoSo),1),a("div",He,[a("div",Ve,[a("p",Me," MSSV: "+i(e(o).MSSV),1),a("p",Re," Ng\xE0y sinh: "+i(new Date(e(o).NgaySinh).toLocaleDateString()=="Invalid Date"?e(o).NgaySinh:new Date(e(o).NgaySinh).toLocaleDateString("vi",{dateStyle:"short"})),1),a("p",Qe," Ng\xE0nh: "+i(e(o).Nganh),1),a("p",Ke," X\u1EBFp Lo\u1EA1i: "+i(e(o).XepLoai),1),a("p",Ge," \u0110i\u1EC7n tho\u1EA1i: "+i(e(o).DienThoai.toLocaleString("vi",{minimumIntegerDigits:10,useGrouping:!1})),1),a("p",Be," Email: "+i(e(o).Email),1)]),a("div",null,[a("p",Ee," S\u1ED1 hi\u1EC7u b\u1EB1ng: "+i(e(o).SoHieuBang),1),a("p",Ie," GDQP: "+i(e(o).GDQP),1),a("p",je," Thi\u1EBFu HS, HP: "+i(e(o).ThieuHSHP),1),a("p",Fe," Kh\u1EA3o s\xE1t: "+i(e(o).KhaoSat),1),a("p",Ue," L\u1EC5 ph\u1EE5c: "+i(e(o).LePhuc),1),a("p",qe," Th\u1EDDi gian: "+i(new Date(e(o).NgayTao).toLocaleString()=="Invalid Date"?e(o).NgayTao:new Date(e(o).NgayTao).toLocaleString("vi")),1)])]),Oe]),a("div",Xe,[a("div",Ae,[Ye,a("span",We,i(e(G)+1),1)]),a("div",Ze,[g(D,{type:"justify-center lg:justify-around mb-5","no-wrap":""},{default:y(()=>[e(o).TrangThai==1?(n(),c(Se,{key:0,onClick:t[2]||(t[2]=l=>R(e(o).Row))})):e(o).TrangThai==2?(n(),c(Y,{key:1,onClick:t[3]||(t[3]=l=>Q(e(o).Row))})):e(o).TrangThai==3?(n(),c(fe,{key:2})):(n(),h("span",ze,"Kh\xE1c"))]),_:1}),Je,g(D,{type:"justify-center mb-5","no-wrap":""},{default:y(()=>[g(v,{color:"success",icon:e(de),small:"",onClick:t[4]||(t[4]=l=>U(`M\u1EDDi b\u1EA1n ${e(o).HoTen}, \u0111\u1EBFn qu\u1EA7y s\u1ED1 1, \u0111\u1EC3 nh\u1EADn b\u1EB1ng`))},null,8,["icon"]),e(o).TrangThai===2?(n(),c(v,{key:0,color:"warning",icon:e(q),small:"",onClick:t[5]||(t[5]=l=>K(e(o).Row))},null,8,["icon"])):u("",!0),e(o).TrangThai!=2?(n(),c(v,{key:1,color:"warning",icon:e(q),small:"",disabled:""},null,8,["icon"])):u("",!0),g(v,{color:"info",icon:e(O),small:"",onClick:t[6]||(t[6]=l=>P(e(o).Row))},null,8,["icon"]),g(v,{color:"danger",icon:e(X),small:"",onClick:t[7]||(t[7]=l=>C(e(o).Row))},null,8,["icon"])]),_:1})])])])):u("",!0),e(T)&&!e(o)?(n(),c(ye,{key:1})):u("",!0),!e(T)&&!e(o)?(n(),c(V,{key:2,empty:""})):u("",!0),x.value.length?(n(),h("div",et,[(n(!0),h(L,null,H(x.value,l=>(n(),h("span",{key:l.id,class:"inline-block px-2 py-1 rounded-sm mr-2 text-sm bg-gray-100 dark:bg-slate-700"},i(l.name),1))),128))])):u("",!0),a("table",null,[a("thead",null,[a("tr",null,[w.checkable?(n(),h("th",tt)):u("",!0),at,lt,ot,st,nt,it,rt,dt,ut,ct,ht])]),a("tbody",null,[(n(!0),h(L,null,H(e(z),(l,S)=>(n(),h("tr",{key:l},[w.checkable?(n(),c(pe,{key:0,onChecked:$=>oe($,l)},null,8,["onChecked"])):u("",!0),a("td",gt,i(S+2+e(G)+(r.value-1)*N.value),1),a("td",mt,i(l.MSSV),1),a("td",_t,[a("p",vt,i(l.HoTen),1),a("small",yt,i(new Date(l.NgaySinh).toLocaleDateString()=="Invalid Date"?l.NgaySinh:new Date(l.NgaySinh).toLocaleDateString("vi",{dateStyle:"short"})),1),a("small",pt,i(l.Nganh),1)]),a("td",ft,i(new Date(l.NgaySinh).toLocaleDateString()=="Invalid Date"?l.NgaySinh:new Date(l.NgaySinh).toLocaleDateString()),1),a("td",bt,i(l.Nganh),1),a("td",kt,i(l.SoVaoSo),1),a("td",xt,i(l.GDQP),1),a("td",St,i(l.ThieuHSHP),1),a("td",wt,i(l.KhaoSat),1),a("td",Tt,i(l.LePhuc),1),a("td",Nt,[g(D,{type:"justify-end","no-wrap":""},{default:y(()=>[l.TrangThai==1?(n(),h("span",Dt,[g(v,{color:"info",icon:e(O),small:"",onClick:t[8]||(t[8]=$=>P(e(o).Row))},null,8,["icon"]),g(v,{color:"danger",icon:e(X),small:"",onClick:$=>C(l.Row)},null,8,["icon","onClick"])])):l.TrangThai==2?(n(),c(Y,{key:1})):(n(),h("span",Lt,"Kh\xE1c"))]),_:2},1024)])]))),128))]),e(T)&&e(d)<=0?(n(),c(ve,{key:0,buttonSkeleton:"queue"})):u("",!0)]),!e(T)&&e(d)<=0?(n(),c(V,{key:4,empty:""})):u("",!0),a("div",Pt,[g(he,null,{default:y(()=>[g(D,null,{default:y(()=>[e(d)>0?(n(),c(v,{key:0,disabled:r.value===1,icon:e(ue),small:"",outline:e(k).darkMode,onClick:t[9]||(t[9]=l=>r.value=e(ee))},null,8,["disabled","icon","outline"])):u("",!0),r.value>3?(n(),c(v,{key:1,active:r.value==1,label:1,small:"",outline:e(k).darkMode,onClick:t[10]||(t[10]=l=>r.value=1)},null,8,["active","outline"])):u("",!0),r.value>4?(n(),h("span",Ct,"...")):u("",!0),(n(!0),h(L,null,H(e(ae),l=>(n(),c(v,{key:l,active:l===r.value,label:l,small:"",outline:e(k).darkMode,onClick:S=>r.value=l},null,8,["active","label","outline","onClick"]))),128)),r.value<e(d)-3?(n(),h("span",$t,"...")):u("",!0),r.value<e(d)-2?(n(),c(v,{key:4,active:r.value==e(d),label:e(d),small:"",outline:e(k).darkMode,onClick:t[11]||(t[11]=l=>r.value=e(d))},null,8,["active","label","outline"])):u("",!0),e(d)>0?(n(),c(v,{key:5,disabled:r.value===e(d),icon:e(ce),small:"",outline:e(k).darkMode,onClick:t[12]||(t[12]=l=>r.value=e(J))},null,8,["disabled","icon","outline"])):u("",!0)]),_:1}),e(d)>0?(n(),h("small",Ht,"Page "+i(e(te))+" of "+i(e(d)),1)):u("",!0)]),_:1})])],64))}},jt={__name:"QueueView",setup(w){return W(),b(!1),(k,m)=>(n(),c(ge,null,{default:y(()=>[g(me,null,{default:y(()=>[g(V,{class:"mb-6","has-table":""},{default:y(()=>[g(Vt)]),_:1})]),_:1})]),_:1}))}};export{jt as default};
