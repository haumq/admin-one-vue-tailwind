import{o as n,b as g,g as a,u as ne,a as Z,a2 as ie,c as _,r as b,a3 as re,a4 as de,d as m,w as y,j as t,t as i,h,l as D,i as v,W as ue,X,f as c,Y as q,k as O,v as V,F as $,e as H,Z as ce,$ as he,n as ge,p as R,q as me,S as _e}from"./index.9b2552c7.js";import{_ as ve}from"./image-2.36edbb92.js";import{_ as Y}from"./CardBoxModal.e070ee77.js";import{_ as ye}from"./SkeletonTable.1a5f5fd6.js";import{S as pe}from"./SkeletonHero.a6c6cfec.js";import{_ as fe}from"./TableCheckboxCell.0c9c3657.js";import{_ as be}from"./ButtonFinish.0bda0ca6.js";import{B as W}from"./ButtonPropressing.7bc700f9.js";const ke={class:"relative inline-flex items-center justify-center p-0.5 mb-2 mr-2 overflow-hidden text-sm font-medium text-gray-900 rounded-lg group bg-gradient-to-br from-cyan-500 to-blue-500 group-hover:from-cyan-500 group-hover:to-blue-500 hover:text-white dark:text-white focus:outline-none focus:bg-blue-500 focus:ring"},xe=a("span",{class:"relative px-2.5 py-1.5 transition-all ease-in duration-75 bg-white dark:bg-gray-900 rounded-md group-hover:bg-opacity-0"}," Ch\u1ECDn x\u1EED l\xFD ",-1),we=[xe],Se={__name:"ButtonHandle",setup(S){return(k,d)=>(n(),g("button",ke,we))}},Te=a("p",null,[R("Lorem ipsum dolor sit amet "),a("b",null,"adipiscing elit")],-1),Ne=a("p",null,"This is sample modal",-1),De=a("p",null,[R("Lorem ipsum dolor sit amet "),a("b",null,"adipiscing elit")],-1),$e=a("p",null,"This is sample modal",-1),Le={key:0,class:"flex flex-col lg:flex-row p-2 mb-4 w-full bg-white rounded-lg border shadow-md sm:p-8 dark:bg-gray-800 dark:border-gray-700"},Pe={class:"px-2 lg:w-2/3"},Ce={class:"mb-5 text-3xl md:text-5xl font-bold text-gray-900 dark:text-white text-center drop-shadow-lg"},He={class:"mb-5 text-xl md:text-3xl lg:text-5xl font-bold text-gray-700 dark:text-gray-200 text-center drop-shadow-lg"},Ve={class:"flex flex-col md:flex-row mt-5 mb-5"},Re={class:"md:w-1/2"},Me={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},Qe={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},Ke={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},Ge={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},Be={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},Ee={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},Fe={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},Ie={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},je={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},Ae={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},Ue={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},Xe={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},qe=a("div",{class:"justify-center items-center space-y-4 sm:flex sm:space-y-0 sm:space-x-4"},null,-1),Oe={class:"lg:w-1/3 bg-white rounded-lg border border-gray-200 shadow-md dark:bg-gray-800 dark:border-gray-700"},Ye={class:"relative"},We=a("img",{class:"rounded-t-lg w-full",src:ve,alt:""},null,-1),Ze={class:"sticker absolute text-9xl text-white font-bold left-1/2 top-1/2 -translate-x-2/4 -translate-y-2/4 drop-shadow-lg"},ze={class:"p-5"},Je={key:3},et=a("h5",{class:"mb-5 text-center text-2xl font-bold tracking-tight text-gray-900 dark:text-white"}," Noteworthy technology ",-1),tt={key:3,class:"p-3 bg-gray-100/50 dark:bg-slate-800"},at={key:0},lt=a("th",null,"STT",-1),ot=a("th",null,"MSSV",-1),st=a("th",null,[R("T\xCAN "),a("span",{class:"hidden lg:inline"}," - NG\xC0Y SINH - NG\xC0NH")],-1),nt=a("th",{class:"lg:hidden"},"NG\xC0Y SINH",-1),it=a("th",{class:"lg:hidden"},"NG\xC0NH",-1),rt=a("th",{class:"whitespace-nowrap"},"S\u1ED0 V\xC0O S\u1ED4",-1),dt=a("th",null,"GDQP",-1),ut=a("th",{class:"whitespace-nowrap"},"THI\u1EBEU HS, HP",-1),ct=a("th",null,"KH\u1EA2O S\xC1T",-1),ht=a("th",null,"L\u1EC4 PH\u1EE4C",-1),gt=a("th",null,"TR\u1EA0NG TH\xC1I",-1),mt={"data-label":"STT"},_t={"data-label":"MSSV"},vt={"data-label":"T\xEAn",class:"lg:whitespace-nowrap"},yt={class:"font-bold"},pt={class:"hidden lg:block"},ft={class:"hidden lg:block"},bt={"data-label":"Ng\xE0y Sinh",class:"lg:hidden"},kt={"data-label":"Ng\xE0nh",class:"lg:hidden"},xt={"data-label":"S\u1ED1 V\xE0o S\u1ED5"},wt={"data-label":"GDQP"},St={"data-label":"Thi\u1EBFu HS, HP"},Tt={"data-label":"Kh\u1EA3o s\xE1t"},Nt={"data-label":"L\u1EC5 Ph\u1EE5c"},Dt={class:"before:hidden lg:w-1 whitespace-nowrap"},$t={key:0},Lt={key:2},Pt={class:"p-3 lg:px-6 border-t border-gray-100 dark:border-slate-800 select-none"},Ct={key:2},Ht={key:3},Vt={key:0},Rt={__name:"TableStudentQueue",props:{checkable:Boolean},setup(S){const k=ne(),d=Z();ie();const z=_(()=>d.userEmail),M=o=>d.transferToProcess(o),Q=o=>d.transferToFisnish(o),L=o=>d.transferToLastQueue(o),K=o=>d.transferToOldPositionQueue(o),P=o=>d.removeFromQueue(o),G=_(()=>{let o=d.students;return d.dataTo>0&&d.dataFrom>0?o.filter((e,l)=>e.Row<=d.dataTo&&e.Row>=d.dataFrom&&e.TrangThai==3).length:o.filter(e=>e.TrangThai==3).length}),B=_(()=>{let o;return d.dataTo>0&&d.dataFrom>0?o=d.students.filter(e=>e.Row<=d.dataTo&&e.Row>=d.dataFrom):o=d.students,o=o.filter(e=>e.TrangThai==1||e.TrangThai==2),o.sort((e,l)=>new Date(e.NgayTao)-new Date(l.NgayTao))}),s=_(()=>B.value.filter(e=>e.TrangThai==1||e.TrangThai==2&&(e.NguoiXuLy==""||e.NguoiXuLy==z.value)).shift()),E=_(()=>B.value.filter(e=>e!=s.value)),F=b(!1),I=b(!1),T=_(()=>d.apiLoading),N=b(10),r=b(1),p=b(0),f=b(0),x=b([]),J=_(()=>E.value.slice(N.value*(r.value-1),N.value*r.value)),ee=_(()=>r.value<u.value?r.value+1:u.value),te=_(()=>r.value>1?r.value-1:1),u=_(()=>Math.ceil(E.value.length/N.value)),ae=_(()=>r.value),le=_(()=>{const o=[];if(u.value<=7)for(let e=1;e<=u.value;e++)o.push(e);else{r.value>3?p.value=2:p.value=r.value-1,r.value<u.value-2?f.value=2:f.value=u.value-r.value,f.value=p.value<2?f.value+(2-p.value):f.value,p.value=f.value<2?p.value+(2-f.value):p.value;for(let e=p.value;e>0;e--)o.push(r.value-e);o.push(r.value);for(let e=0;e<f.value;e++)o.push(r.value+e+1)}return o}),oe=(o,e)=>{const l=[];return o.forEach(w=>{e(w)||l.push(w)}),l},se=(o,e)=>{o?x.value.push(e):x.value=oe(x.value,l=>l.id===e.id)},j=_(()=>d.Area>0?`\u0111\u1EBFn qu\u1EA7y s\u1ED1 ${d.Area}, \u0111\u1EC3 nh\u1EADn b\u1EB1ng`:"\u0111\u1EBFn qu\u1EA7y h\u1ED3 s\u01A1!"),A=o=>{if(o.key==="Enter")s.value.TrangThai===1&&M(s.value.Row);else if(o.key===" "||o.key==="Spacebar"||o.ctrlKey&&o.key==="s")o.preventDefault(),s.value.TrangThai===2&&Q(s.value.Row);else if(o.keyCode===120){if(o.preventDefault(),s.value){const e=`M\u1EDDi b\u1EA1n ${s.value.HoTen}, ${j}`;U(e)}}else o.keyCode===8?(o.preventDefault(),s.value&&K(s.value.Row)):o.keyCode===39?(o.preventDefault(),s.value&&L(s.value.Row)):o.shiftKey&&o.keyCode===46&&(o.preventDefault(),s.value&&P(s.value.Row))},U=o=>{const e=new SpeechSynthesisUtterance(o);e.pitch=1.2,e.rate=.5,e.volume=.8,speechSynthesis.speak(e)};return re(()=>{d.isKeyQueueViewRegistered||(window.addEventListener("keydown",A),d.isKeyQueueViewRegistered=!0)}),de(()=>{window.removeEventListener("keydown",A),d.isKeyQueueViewRegistered=!1}),(o,e)=>(n(),g($,null,[m(Y,{modelValue:F.value,"onUpdate:modelValue":e[0]||(e[0]=l=>F.value=l),title:"Sample modal"},{default:y(()=>[Te,Ne]),_:1},8,["modelValue"]),m(Y,{modelValue:I.value,"onUpdate:modelValue":e[1]||(e[1]=l=>I.value=l),"large-title":"Please confirm",button:"danger","has-cancel":""},{default:y(()=>[De,$e]),_:1},8,["modelValue"]),t(s)?(n(),g("section",Le,[a("div",Pe,[a("h4",Ce,i(t(s).HoTen),1),a("h5",He,i(t(s).SoVaoSo),1),a("div",Ve,[a("div",Re,[a("p",Me," MSSV: "+i(t(s).MSSV),1),a("p",Qe," Ng\xE0y sinh: "+i(new Date(t(s).NgaySinh).toLocaleDateString()=="Invalid Date"?t(s).NgaySinh:new Date(t(s).NgaySinh).toLocaleDateString("vi",{dateStyle:"short"})),1),a("p",Ke," Ng\xE0nh: "+i(t(s).Nganh),1),a("p",Ge," X\u1EBFp Lo\u1EA1i: "+i(t(s).XepLoai),1),a("p",Be," \u0110i\u1EC7n tho\u1EA1i: "+i(t(s).DienThoai.toLocaleString("vi",{minimumIntegerDigits:10,useGrouping:!1})),1),a("p",Ee," Email: "+i(t(s).Email),1)]),a("div",null,[a("p",Fe," S\u1ED1 hi\u1EC7u b\u1EB1ng: "+i(t(s).SoHieuBang),1),a("p",Ie," GDQP: "+i(t(s).GDQP),1),a("p",je," Thi\u1EBFu HS, HP: "+i(t(s).ThieuHSHP),1),a("p",Ae," Kh\u1EA3o s\xE1t: "+i(t(s).KhaoSat),1),a("p",Ue," L\u1EC5 ph\u1EE5c: "+i(t(s).LePhuc),1),a("p",Xe," Th\u1EDDi gian: "+i(new Date(t(s).NgayTao).toLocaleString()=="Invalid Date"?t(s).NgayTao:new Date(t(s).NgayTao).toLocaleString("vi")),1)])]),qe]),a("div",Oe,[a("div",Ye,[We,a("span",Ze,i(t(G)+1),1)]),a("div",ze,[m(D,{type:"justify-center lg:justify-around mb-5","no-wrap":""},{default:y(()=>[t(s).TrangThai==1?(n(),h(Se,{key:0,onClick:e[2]||(e[2]=l=>M(t(s).Row))})):t(s).TrangThai==2?(n(),h(W,{key:1,onClick:e[3]||(e[3]=l=>Q(t(s).Row))})):t(s).TrangThai==3?(n(),h(be,{key:2})):(n(),g("span",Je,"Kh\xE1c"))]),_:1}),et,m(D,{type:"justify-center mb-5","no-wrap":""},{default:y(()=>[m(v,{color:"success",icon:t(ue),small:"",onClick:e[4]||(e[4]=l=>U(`M\u1EDDi b\u1EA1n ${t(s).value.HoTen}, ${t(j)}`))},null,8,["icon"]),t(s).TrangThai===2?(n(),h(v,{key:0,color:"warning",icon:t(X),small:"",onClick:e[5]||(e[5]=l=>K(t(s).Row))},null,8,["icon"])):c("",!0),t(s).TrangThai!=2?(n(),h(v,{key:1,color:"warning",icon:t(X),small:"",disabled:""},null,8,["icon"])):c("",!0),m(v,{color:"info",icon:t(q),small:"",onClick:e[6]||(e[6]=l=>L(t(s).Row))},null,8,["icon"]),m(v,{color:"danger",icon:t(O),small:"",onClick:e[7]||(e[7]=l=>P(t(s).Row))},null,8,["icon"])]),_:1})])])])):c("",!0),t(T)&&!t(s)?(n(),h(pe,{key:1})):c("",!0),!t(T)&&!t(s)?(n(),h(V,{key:2,empty:""})):c("",!0),x.value.length?(n(),g("div",tt,[(n(!0),g($,null,H(x.value,l=>(n(),g("span",{key:l.id,class:"inline-block px-2 py-1 rounded-sm mr-2 text-sm bg-gray-100 dark:bg-slate-700"},i(l.name),1))),128))])):c("",!0),a("table",null,[a("thead",null,[a("tr",null,[S.checkable?(n(),g("th",at)):c("",!0),lt,ot,st,nt,it,rt,dt,ut,ct,ht,gt])]),a("tbody",null,[(n(!0),g($,null,H(t(J),(l,w)=>(n(),g("tr",{key:l},[S.checkable?(n(),h(fe,{key:0,onChecked:C=>se(C,l)},null,8,["onChecked"])):c("",!0),a("td",mt,i(w+2+t(G)+(r.value-1)*N.value),1),a("td",_t,i(l.MSSV),1),a("td",vt,[a("p",yt,i(l.HoTen),1),a("small",pt,i(new Date(l.NgaySinh).toLocaleDateString()=="Invalid Date"?l.NgaySinh:new Date(l.NgaySinh).toLocaleDateString("vi",{dateStyle:"short"})),1),a("small",ft,i(l.Nganh),1)]),a("td",bt,i(new Date(l.NgaySinh).toLocaleDateString()=="Invalid Date"?l.NgaySinh:new Date(l.NgaySinh).toLocaleDateString()),1),a("td",kt,i(l.Nganh),1),a("td",xt,i(l.SoVaoSo),1),a("td",wt,i(l.GDQP),1),a("td",St,i(l.ThieuHSHP),1),a("td",Tt,i(l.KhaoSat),1),a("td",Nt,i(l.LePhuc),1),a("td",Dt,[m(D,{type:"justify-end","no-wrap":""},{default:y(()=>[l.TrangThai==1?(n(),g("span",$t,[m(v,{color:"info",icon:t(q),small:"",onClick:e[8]||(e[8]=C=>L(t(s).Row))},null,8,["icon"]),m(v,{color:"danger",icon:t(O),small:"",onClick:C=>P(l.Row)},null,8,["icon","onClick"])])):l.TrangThai==2?(n(),h(W,{key:1})):(n(),g("span",Lt,"Kh\xE1c"))]),_:2},1024)])]))),128))]),t(T)&&t(u)<=0?(n(),h(ye,{key:0,buttonSkeleton:"queue"})):c("",!0)]),!t(T)&&t(u)<=0?(n(),h(V,{key:4,empty:""})):c("",!0),a("div",Pt,[m(ge,null,{default:y(()=>[m(D,null,{default:y(()=>[t(u)>0?(n(),h(v,{key:0,disabled:r.value===1,icon:t(ce),small:"",outline:t(k).darkMode,onClick:e[9]||(e[9]=l=>r.value=t(te))},null,8,["disabled","icon","outline"])):c("",!0),r.value>3?(n(),h(v,{key:1,active:r.value==1,label:1,small:"",outline:t(k).darkMode,onClick:e[10]||(e[10]=l=>r.value=1)},null,8,["active","outline"])):c("",!0),r.value>4?(n(),g("span",Ct,"...")):c("",!0),(n(!0),g($,null,H(t(le),l=>(n(),h(v,{key:l,active:l===r.value,label:l,small:"",outline:t(k).darkMode,onClick:w=>r.value=l},null,8,["active","label","outline","onClick"]))),128)),r.value<t(u)-3?(n(),g("span",Ht,"...")):c("",!0),r.value<t(u)-2?(n(),h(v,{key:4,active:r.value==t(u),label:t(u),small:"",outline:t(k).darkMode,onClick:e[11]||(e[11]=l=>r.value=t(u))},null,8,["active","label","outline"])):c("",!0),t(u)>0?(n(),h(v,{key:5,disabled:r.value===t(u),icon:t(he),small:"",outline:t(k).darkMode,onClick:e[12]||(e[12]=l=>r.value=t(ee))},null,8,["disabled","icon","outline"])):c("",!0)]),_:1}),t(u)>0?(n(),g("small",Vt,"Page "+i(t(ae))+" of "+i(t(u)),1)):c("",!0)]),_:1})])],64))}},jt={__name:"QueueView",setup(S){return Z(),b(!1),(k,d)=>(n(),h(me,null,{default:y(()=>[m(_e,null,{default:y(()=>[m(V,{class:"mb-6","has-table":""},{default:y(()=>[m(Rt)]),_:1})]),_:1})]),_:1}))}};export{jt as default};
