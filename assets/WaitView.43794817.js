import{u as ie,a as Z,a2 as re,c as _,r as y,a3 as de,a4 as ce,o as s,b as g,d as h,w as b,F as H,e as B,t as o,f as d,g as t,h as m,a6 as ue,a7 as ge,j as l,p as C,i as v,m as he,W as O,V,Y as U,X as q,k as Y,a5 as z,l as M,v as J,Z as ve,$ as me,n as _e,M as be,q as ye,S as ke}from"./index.acec98b0.js";import{_ as pe}from"./image-2.36edbb92.js";import{_ as xe}from"./CardBoxModal.aadd27d0.js";import{_ as fe}from"./TableCheckboxCell.3509290f.js";import{_ as Se}from"./SkeletonTable.9999a703.js";const we=t("p",null,[C("Vui l\xF2ng s\u1EED d\u1EE5ng t\u1ED5 h\u1EE3p "),t("kbd",{class:"px-2 py-1.5 text-xs font-semibold text-gray-800 bg-gray-100 border border-gray-200 rounded-lg dark:bg-gray-600 dark:text-gray-100 dark:border-gray-500"},"Ctrl"),C(" + Click chu\u1ED9t \u0111\u1EC3 ho\xE0n t\u1EA5t ")],-1),Te={key:0,class:"p-3 bg-gray-100/50 dark:bg-slate-800"},Ne={key:0},Ce=t("th",null,"STT",-1),De=t("th",null,"MSSV",-1),$e=t("th",null,[C("T\xCAN "),t("span",{class:"hidden lg:inline"}," - NG\xC0Y SINH - NG\xC0NH")],-1),Le=t("th",{class:"lg:hidden"},"NG\xC0Y SINH",-1),Pe=t("th",{class:"lg:hidden"},"NG\xC0NH",-1),He=t("th",{class:"whitespace-nowrap"},"S\u1ED0 V\xC0O S\u1ED4",-1),Ve=t("th",null,"GDQP",-1),Me=t("th",{class:"whitespace-nowrap"},"THI\u1EBEU HS, HP",-1),Re=t("th",null,"KH\u1EA2O S\xC1T",-1),Be=t("th",null,"L\u1EC4 PH\u1EE4C",-1),Ge=t("th",null,"TR\u1EA0NG TH\xC1I",-1),Ie=["onDblclick"],Ee={"data-label":"STT"},Ke={"data-label":"MSSV"},Qe={"data-label":"T\xEAn",class:"lg:whitespace-nowrap"},Xe={class:"font-bold"},je={class:"hidden lg:block"},Fe={class:"hidden lg:block"},We={"data-label":"Ng\xE0y Sinh",class:"lg:hidden"},Ae={"data-label":"Ng\xE0nh",class:"lg:hidden"},Oe={"data-label":"S\u1ED1 V\xE0o S\u1ED5"},Ue={key:0,class:"hidden lg:inline-block"},qe=t("small",null,"Song b\u1EB1ng/ song ng\xE0nh: ",-1),Ye=t("br",null,null,-1),ze={key:1,"data-label":"SBSN:",class:"lg:hidden"},Ze={"data-label":"GDQP"},Je={"data-label":"Thi\u1EBFu HS, HP"},et={"data-label":"Kh\u1EA3o s\xE1t"},tt={"data-label":"L\u1EC5 Ph\u1EE5c"},at={"data-label":"X\u1EBFp lo\u1EA1i",class:"lg:hidden"},lt={"data-label":"S\u1ED1 hi\u1EC7u b\u1EB1ng",class:"lg:hidden"},ot={"data-label":"\u0110i\u1EC7n tho\u1EA1i",class:"lg:hidden"},nt={"data-label":"Email",class:"lg:hidden"},st={key:2,"data-label":"Th\u1EDDi gian ch\u1EDD",class:"lg:hidden"},it={key:3,"data-label":"Ng\u01B0\u1EDDi x\u1EED l\xFD",class:"lg:hidden"},rt={key:4,"data-label":"Th\u1EDDi gian nh\u1EADn b\u1EB1ng",class:"lg:hidden"},dt={class:"before:hidden lg:w-1 whitespace-nowrap"},ct={key:0},ut={class:"lg:hidden"},gt={class:"p-3 lg:px-6 border-t border-gray-100 dark:border-slate-800 select-none"},ht={key:2},vt={key:3},mt={key:0},_t={key:2,class:"p-3 lg:px-6 flex justify-end items-center border-t border-gray-100 dark:border-slate-800 select-none"},bt=t("small",{class:"mr-10"},[t("span",null,"Ph\xEDm t\u1EAFt: "),t("kbd",{class:"px-2 py-1.5 text-xs font-semibold text-gray-800 bg-gray-100 border border-gray-200 rounded-lg dark:bg-gray-600 dark:text-gray-100 dark:border-gray-500"},"Ctrl"),C(" + "),t("kbd",{class:"px-2 py-1.5 text-xs font-semibold text-gray-800 bg-gray-100 border border-gray-200 rounded-lg dark:bg-gray-600 dark:text-gray-100 dark:border-gray-500"},"S"),t("span",null," ho\u1EB7c "),t("kbd",{class:"px-2 py-1.5 text-xs font-semibold text-gray-800 bg-gray-100 border border-gray-200 rounded-lg dark:bg-gray-600 dark:text-gray-100 dark:border-gray-500"},"Ctrl"),t("span",null," + Click: ")],-1),yt={class:"relative px-5 py-2.5 transition-all ease-in duration-75 bg-white dark:bg-gray-900 rounded-md group-hover:bg-opacity-0"},kt={class:"px-2 lg:w-2/3"},pt={class:"mb-5 text-3xl md:text-5xl font-bold text-gray-900 dark:text-white text-center drop-shadow-lg"},xt={class:"mb-5 text-xl md:text-3xl lg:text-5xl font-bold text-gray-700 dark:text-gray-200 text-center drop-shadow-lg"},ft={class:"flex flex-col md:flex-row mt-5 mb-5"},St={class:"md:w-1/2"},wt={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},Tt={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},Nt={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},Ct={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},Dt={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},$t={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},Lt={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},Pt={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},Ht={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},Vt={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},Mt={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},Rt={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},Bt=t("div",{class:"justify-center items-center space-y-4 sm:flex sm:space-y-0 sm:space-x-4"},null,-1),Gt={class:"lg:w-1/3 bg-white rounded-lg border border-gray-200 shadow-md dark:bg-gray-800 dark:border-gray-700"},It={class:"relative"},Et=t("img",{class:"rounded-t-lg w-full",src:pe,alt:""},null,-1),Kt={class:"sticker absolute text-9xl text-white font-bold left-1/2 top-1/2 -translate-x-2/4 -translate-y-2/4 drop-shadow-lg"},Qt={class:"p-5"},Xt=t("h5",{class:"mb-5 text-center text-2xl font-bold tracking-tight text-gray-900 dark:text-white"}," T\xECm v\xE0 ph\xE1t b\u1EB1ng ",-1),jt={__name:"TableStudentWait",props:{checkable:Boolean},setup(R){const f=ie(),c=Z();re();const G=n=>c.transferToOldPositionQueue(n),I=n=>c.removeFromQueue(n),$=n=>c.transferToProcess(n),E=n=>c.transferMultiToProcess(n),L=_(()=>{let n;return c.dataTo>0&&c.dataFrom>0?n=c.students.filter(a=>a.Row<=c.dataTo&&a.Row>=c.dataFrom):n=c.students,n=n.filter(a=>a.TrangThai==1),n.sort((a,e)=>new Date(a.NgayTao)-new Date(e.NgayTao))}),K=_(()=>{let n=c.students;return c.dataTo>0&&c.dataFrom>0?n.filter((a,e)=>a.Row<=c.dataTo&&a.Row>=c.dataFrom&&(a.TrangThai==3||a.TrangThai==2)).length:n.filter((a,e)=>a.TrangThai==3||a.TrangThai==2).length}),r=y({}),Q=y(0),X=(n,a)=>{r.value=n,Q.value=a,S.value=!S.value},j=_(()=>c.Area>0?`\u0111\u1EBFn qu\u1EA7y s\u1ED1 ${c.Area}, \u0111\u1EC3 nh\u1EADn b\u1EB1ng`:"\u0111\u1EBFn qu\u1EA7y h\u1ED3 s\u01A1!"),S=y(!1),P=y(!1),F=_(()=>c.apiLoading),w=y(10),i=y(1),k=y(0),p=y(0),D=y([]),ee=_(()=>L.value.slice(w.value*(i.value-1),w.value*i.value)),te=_(()=>i.value<u.value?i.value+1:u.value),ae=_(()=>i.value>1?i.value-1:1),u=_(()=>Math.ceil(L.value.length/w.value)),le=_(()=>i.value),oe=_(()=>{const n=[];if(u.value<=7)for(let a=1;a<=u.value;a++)n.push(a);else{i.value>3?k.value=2:k.value=i.value-1,i.value<u.value-2?p.value=2:p.value=u.value-i.value,p.value=k.value<2?p.value+(2-k.value):p.value,k.value=p.value<2?k.value+(2-p.value):k.value;for(let a=k.value;a>0;a--)n.push(i.value-a);n.push(i.value);for(let a=0;a<p.value;a++)n.push(i.value+a+1)}return n}),T=_(()=>{const n=[];return L.value.slice(0,w.value).map(a=>{n.push(a.Row)}),n}),ne=(n,a)=>{const e=[];return n.forEach(x=>{a(x)||e.push(x)}),e},se=(n,a)=>{n?D.value.push(a):D.value=ne(D.value,e=>e.id===a.id)},W=n=>{const a=new SpeechSynthesisUtterance(n);a.pitch=1.4,a.rate=.5,a.volume=1,speechSynthesis.speak(a)},A=n=>{n.ctrlKey&&n.key==="s"&&(n.preventDefault(),T.value&&T.value.length>0&&E(T.value))};return de(()=>{c.isKeyWaitViewRegistered||(window.addEventListener("keydown",A),c.isKeyWaitViewRegistered=!0)}),ce(()=>{window.removeEventListener("keydown",A),c.isKeyWaitViewRegistered=!1}),(n,a)=>(s(),g(H,null,[h(xe,{modelValue:P.value,"onUpdate:modelValue":a[0]||(a[0]=e=>P.value=e),"large-title":"Th\xF4ng b\xE1o",button:"danger","has-cancel":""},{default:b(()=>[we]),_:1},8,["modelValue"]),D.value.length?(s(),g("div",Te,[(s(!0),g(H,null,B(D.value,e=>(s(),g("span",{key:e.id,class:"inline-block px-2 py-1 rounded-sm mr-2 text-sm bg-gray-100 dark:bg-slate-700"},o(e.name),1))),128))])):d("",!0),t("table",null,[t("thead",null,[t("tr",null,[R.checkable?(s(),g("th",Ne)):d("",!0),Ce,De,$e,Le,Pe,He,Ve,Me,Re,Be,Ge])]),t("tbody",null,[(s(!0),g(H,null,B(l(ee),(e,x)=>(s(),g("tr",{key:e.Row,onDblclick:N=>X(e,x)},[R.checkable?(s(),m(fe,ue({key:0},ge(se(n.$event,e))),null,16)):d("",!0),t("td",Ee,o(x+1+l(K)+(i.value-1)*w.value),1),t("td",Ke,o(e.MSSV),1),t("td",Qe,[t("p",Xe,o(e.HoTen),1),t("small",je,o(new Date(e.NgaySinh).toLocaleDateString()=="Invalid Date"?e.NgaySinh:new Date(e.NgaySinh).toLocaleDateString()),1),t("small",Fe,o(e.Nganh),1)]),t("td",We,o(new Date(e.NgaySinh).toLocaleDateString()=="Invalid Date"?e.NgaySinh:new Date(e.NgaySinh).toLocaleDateString()),1),t("td",Ae,o(e.Nganh),1),t("td",Oe,[C(o(e.SoVaoSo)+" ",1),e.SongBangSongNganh?(s(),g("p",Ue,[qe,Ye,C(o(e.SongBangSongNganh),1)])):d("",!0)]),e.SongBangSongNganh?(s(),g("td",ze,o(e.SongBangSongNganh),1)):d("",!0),t("td",Ze,o(e.GDQP),1),t("td",Je,o(e.ThieuHSHP),1),t("td",et,o(e.KhaoSat),1),t("td",tt,o(e.LePhuc),1),t("td",at,o(e.XepLoai),1),t("td",lt,o(e.SoHieuBang),1),t("td",ot,o(e.DienThoai),1),t("td",nt,o(e.Email),1),e.NgayTao?(s(),g("td",st,o(new Date(e.NgayTao).toLocaleString("vi")=="Invalid Date"?e.NgayTao:new Date(e.NgayTao).toLocaleString("vi")),1)):d("",!0),e.NguoiXuLy?(s(),g("td",it,o(e.NguoiXuLy),1)):d("",!0),e.ThoiGianNhanBang?(s(),g("td",rt,o(new Date(e.ThoiGianNhanBang).toLocaleString("vi")=="Invalid Date"?e.ThoiGianNhanBang:new Date(e.ThoiGianNhanBang).toLocaleString("vi")),1)):d("",!0),t("td",dt,[h(M,{type:"justify-end","no-wrap":""},{default:b(()=>[e.TrangThai==1?(s(),g("span",ct,[h(v,{color:"info",icon:l(he),small:"",onClick:N=>X(e,x)},null,8,["icon","onClick"]),t("span",ut,[h(v,{color:"success",class:"mr-2",icon:l(O),small:"",onClick:V(N=>W(`Xin m\u1EDDi b\u1EA1n:  ${e.HoTen}, ${l(j)}`),["stop"])},null,8,["icon","onClick"]),h(v,{color:"warning",class:"mr-2",icon:l(U),small:"",onClick:N=>$(e.Row)},null,8,["icon","onClick"]),r.value.TrangThai===2?(s(),m(v,{key:0,color:"warning",icon:l(q),small:"",onClick:N=>G(e.Row)},null,8,["icon","onClick"])):d("",!0),h(v,{color:"danger",icon:l(Y),small:"",onClick:N=>I(e.Row)},null,8,["icon","onClick"])]),h(v,{color:"danger",icon:l(z),small:"",onClick:N=>$(e.Row)},null,8,["icon","onClick"])])):d("",!0)]),_:2},1024)])],40,Ie))),128))]),l(F)&&l(u)<=0?(s(),m(Se,{key:0,buttonSkeleton:"wait"})):d("",!0)]),!l(F)&&l(u)<=0&&l(L)?(s(),m(J,{key:1,empty:""})):d("",!0),t("div",gt,[h(_e,null,{default:b(()=>[h(M,null,{default:b(()=>[l(u)>0?(s(),m(v,{key:0,disabled:i.value===1,icon:l(ve),small:"",outline:l(f).darkMode,onClick:a[1]||(a[1]=e=>i.value=l(ae))},null,8,["disabled","icon","outline"])):d("",!0),i.value>3?(s(),m(v,{key:1,active:i.value==1,label:1,small:"",outline:l(f).darkMode,onClick:a[2]||(a[2]=e=>i.value=1)},null,8,["active","outline"])):d("",!0),i.value>4?(s(),g("span",ht,"...")):d("",!0),(s(!0),g(H,null,B(l(oe),e=>(s(),m(v,{key:e,active:e===i.value,label:e,small:"",outline:l(f).darkMode,onClick:x=>i.value=e},null,8,["active","label","outline","onClick"]))),128)),i.value<l(u)-3?(s(),g("span",vt,"...")):d("",!0),i.value<l(u)-2?(s(),m(v,{key:4,active:i.value==l(u),label:l(u),small:"",outline:l(f).darkMode,onClick:a[3]||(a[3]=e=>i.value=l(u))},null,8,["active","label","outline"])):d("",!0),l(u)>0?(s(),m(v,{key:5,disabled:i.value===l(u),icon:l(me),small:"",outline:l(f).darkMode,onClick:a[4]||(a[4]=e=>i.value=l(te))},null,8,["disabled","icon","outline"])):d("",!0)]),_:1}),l(u)>0?(s(),g("small",mt,"Page "+o(l(le))+" of "+o(l(u)),1)):d("",!0)]),_:1})]),l(u)>0&&l(T).length>0?(s(),g("div",_t,[bt,t("button",{onDblclick:a[5]||(a[5]=e=>P.value=!P.value),onClick:a[6]||(a[6]=V(e=>E(l(T)),["ctrl"])),class:"relative inline-flex items-center justify-center p-0.5 mb-2 mr-2 overflow-hidden text-sm font-medium text-gray-900 rounded-lg group bg-gradient-to-br from-purple-600 to-blue-500 group-hover:from-purple-600 group-hover:to-blue-500 hover:text-white dark:text-white focus:ring-4 focus:outline-none focus:ring-blue-300 dark:focus:ring-blue-800"},[t("span",yt,o(`\u0110\xE3 t\xECm xong b\u1EB1ng c\u1EE7a ${l(T).length} SV \u1EDF trang 1`),1)],32)])):d("",!0),t("section",null,[S.value?(s(),m(be,{key:0,onClick:a[13]||(a[13]=V(e=>S.value=!S.value,["stop"]))},{default:b(()=>[r.value?(s(),g("section",{key:0,class:"flex flex-col overflow-y-scroll lg:flex-row p-2 mb-4 w-full max-w-5xl z-10 bg-white rounded-lg border shadow-md sm:p-8 dark:bg-gray-800 dark:border-gray-700",onClick:a[12]||(a[12]=e=>S.value=!0)},[t("div",kt,[t("h4",pt,o(r.value.HoTen),1),t("h5",xt,o(r.value.SoVaoSo),1),t("div",ft,[t("div",St,[t("p",wt," MSSV: "+o(r.value.MSSV),1),t("p",Tt," Ng\xE0y sinh: "+o(new Date(r.value.NgaySinh).toLocaleDateString()=="Invalid Date"?r.value.NgaySinh:new Date(r.value.NgaySinh).toLocaleDateString("vi",{dateStyle:"short"})),1),t("p",Nt," Ng\xE0nh: "+o(r.value.Nganh),1),t("p",Ct," X\u1EBFp Lo\u1EA1i: "+o(r.value.XepLoai),1),t("p",Dt," \u0110i\u1EC7n tho\u1EA1i: "+o(r.value.DienThoai.toLocaleString("vi",{minimumIntegerDigits:10,useGrouping:!1})),1),t("p",$t," Email: "+o(r.value.Email),1)]),t("div",null,[t("p",Lt," S\u1ED1 hi\u1EC7u b\u1EB1ng: "+o(r.value.SoHieuBang),1),t("p",Pt," GDQP: "+o(r.value.GDQP),1),t("p",Ht," Thi\u1EBFu HS, HP: "+o(r.value.ThieuHSHP),1),t("p",Vt," Kh\u1EA3o s\xE1t: "+o(r.value.KhaoSat),1),t("p",Mt," L\u1EC5 ph\u1EE5c: "+o(r.value.LePhuc),1),t("p",Rt," Th\u1EDDi gian: "+o(new Date(r.value.NgayTao).toLocaleString()=="Invalid Date"?r.value.NgayTao:new Date(r.value.NgayTao).toLocaleString("vi")),1)])]),Bt]),t("div",Gt,[t("div",It,[Et,t("span",Kt,o(Q.value+1+l(K)+(i.value-1)*w.value),1)]),t("div",Qt,[h(M,{type:"justify-center lg:justify-around mb-5","no-wrap":""},{default:b(()=>[h(v,{color:"success",icon:l(z),onClick:a[7]||(a[7]=e=>$(r.value.Row)),label:"L\u1EA5y b\u1EB1ng"},null,8,["icon"])]),_:1}),Xt,h(M,{type:"justify-center mb-5","no-wrap":""},{default:b(()=>[h(v,{color:"success",icon:l(O),small:"",onClick:a[8]||(a[8]=V(e=>W(`Xin m\u1EDDi b\u1EA1n:  ${r.value.HoTen}, ${l(j)}`),["stop"]))},null,8,["icon"]),h(v,{color:"warning",icon:l(U),small:"",onClick:a[9]||(a[9]=e=>$(r.value.Row))},null,8,["icon"]),r.value.TrangThai===2?(s(),m(v,{key:0,color:"warning",icon:l(q),small:"",onClick:a[10]||(a[10]=e=>G(r.value.Row))},null,8,["icon"])):d("",!0),h(v,{color:"danger",icon:l(Y),small:"",onClick:a[11]||(a[11]=e=>I(r.value.Row))},null,8,["icon"])]),_:1})])])])):d("",!0)]),_:1})):d("",!0)])],64))}},qt={__name:"WaitView",setup(R){return Z(),(f,c)=>(s(),m(ye,null,{default:b(()=>[h(ke,null,{default:b(()=>[h(J,{class:"mb-6","has-table":""},{default:b(()=>[h(jt)]),_:1})]),_:1})]),_:1}))}};export{qt as default};
