import{Q as oe,o as n,b as g,g as e,u as ne,a as z,X as re,c as b,r as p,Y as de,Z as ie,d as m,w as v,j as t,t as r,h as c,l as N,i as y,$ as ue,a0 as X,f as u,a1 as q,k as O,v as V,F as L,e as H,U as ce,V as ge,n as me,p as M,q as he,S as be}from"./index.2f0e4f3c.js";import{_ as ye}from"./image-2.36edbb92.js";import{_ as A}from"./CardBoxModal.494ff989.js";import{_ as ve}from"./SkeletonTable.ce695035.js";import{_ as _e}from"./TableCheckboxCell.061cc477.js";import{_ as xe}from"./ButtonFinish.5447307c.js";import{B as Y}from"./ButtonPropressing.1a9d0450.js";const fe={},pe={class:"flex flex-col lg:flex-row w-full p-8 mb-4 w-full text-center bg-white rounded-lg border shadow-md sm:p-8 dark:bg-gray-800 dark:border-gray-700"},ke=e("div",{role:"status",class:"lg:w-2/3 animate-pulse"},[e("div",{class:"h-5 md:h-8 lg:h-11 bg-gray-200 mx-auto rounded-full dark:bg-gray-700 max-w-[420px] mb-5"}),e("div",{class:"h-5 md:hidden bg-gray-200 mx-auto rounded-full dark:bg-gray-700 max-w-[200px] mb-5"}),e("div",{class:"h-5 md:h-8 lg:h-10 bg-gray-200 mx-auto rounded-full dark:bg-gray-700 max-w-[300px] mb-5"}),e("div",{class:"flex flex-col md:flex-row p-4"},[e("div",{class:"md:w-1/2"},[e("div",{class:"h-3.5 md:h-5 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[250px] mb-2.5 md:mb-5 lg:mb-6"}),e("div",{class:"h-3.5 md:h-5 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[230px] mb-2.5 md:mb-5 lg:mb-6"}),e("div",{class:"h-3.5 md:h-5 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[280px] mb-2.5 md:mb-5 lg:mb-6"}),e("div",{class:"h-3.5 md:h-5 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[200px] mb-2.5 md:mb-5 lg:mb-6"}),e("div",{class:"h-3.5 md:h-5 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[240px] mb-2.5 md:mb-5 lg:mb-6"}),e("div",{class:"h-3.5 md:h-5 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[290px] mb-2.5 md:mb-5 lg:mb-6"})]),e("div",{class:"md:w-1/2"},[e("div",{class:"h-3.5 md:h-5 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[270px] mb-2.5 md:mb-5 lg:mb-6"}),e("div",{class:"h-3.5 md:h-5 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[200px] mb-2.5 md:mb-5 lg:mb-6"}),e("div",{class:"h-3.5 md:h-5 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[260px] mb-2.5 md:mb-5 lg:mb-6"}),e("div",{class:"h-3.5 md:h-5 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[210px] mb-2.5 md:mb-5 lg:mb-6"}),e("div",{class:"h-3.5 md:h-5 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[200px] mb-2.5 md:mb-5 lg:mb-6"}),e("div",{class:"h-3.5 md:h-5 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[280px] mb-2.5 md:mb-5 lg:mb-6"})])])],-1),we=e("div",{role:"status",class:"lg:w-1/3 rounded-lg shadow-lg animate-pulse"},[e("div",{class:"flex justify-center items-center mb-4 h-56 rounded-t-lg bg-gray-300 dark:bg-gray-700"},[e("svg",{class:"w-12 h-12 text-gray-200 dark:text-gray-600",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 640 512"},[e("path",{d:"M480 80C480 35.82 515.8 0 560 0C604.2 0 640 35.82 640 80C640 124.2 604.2 160 560 160C515.8 160 480 124.2 480 80zM0 456.1C0 445.6 2.964 435.3 8.551 426.4L225.3 81.01C231.9 70.42 243.5 64 256 64C268.5 64 280.1 70.42 286.8 81.01L412.7 281.7L460.9 202.7C464.1 196.1 472.2 192 480 192C487.8 192 495 196.1 499.1 202.7L631.1 419.1C636.9 428.6 640 439.7 640 450.9C640 484.6 612.6 512 578.9 512H55.91C25.03 512 .0006 486.1 .0006 456.1L0 456.1z"})])]),e("div",{class:"p-4"},[e("div",{class:"h-10 mx-auto bg-gray-200 rounded-lg dark:bg-gray-700 w-32 mb-8"}),e("div",{class:"h-5 mx-auto bg-gray-200 rounded-full dark:bg-gray-700 max-w-[240px] mb-5"}),e("div",{class:"flex justify-center flex-row mb-8"},[e("div",{class:"h-8 w-8 mx-1.5 bg-gray-200 rounded-md dark:bg-gray-700"}),e("div",{class:"h-8 w-8 mx-1.5 bg-gray-200 rounded-md dark:bg-gray-700"}),e("div",{class:"h-8 w-8 mx-1.5 bg-gray-200 rounded-md dark:bg-gray-700"}),e("div",{class:"h-8 w-8 mx-1.5 bg-gray-200 rounded-md dark:bg-gray-700"})])]),e("span",{class:"sr-only"},"Loading...")],-1),Se=[ke,we];function Te(k,_){return n(),g("section",pe,Se)}var Ce=oe(fe,[["render",Te]]);const Ne={class:"relative inline-flex items-center justify-center p-0.5 mb-2 mr-2 overflow-hidden text-sm font-medium text-gray-900 rounded-lg group bg-gradient-to-br from-cyan-500 to-blue-500 group-hover:from-cyan-500 group-hover:to-blue-500 hover:text-white dark:text-white focus:outline-none focus:bg-blue-500 focus:ring"},Le=e("span",{class:"relative px-2.5 py-1.5 transition-all ease-in duration-75 bg-white dark:bg-gray-900 rounded-md group-hover:bg-opacity-0"}," Ch\u1ECDn x\u1EED l\xFD ",-1),$e=[Le],De={__name:"ButtonHandle",setup(k){return(_,h)=>(n(),g("button",Ne,$e))}},Pe=e("p",null,[M("Lorem ipsum dolor sit amet "),e("b",null,"adipiscing elit")],-1),He=e("p",null,"This is sample modal",-1),Ve=e("p",null,[M("Lorem ipsum dolor sit amet "),e("b",null,"adipiscing elit")],-1),Me=e("p",null,"This is sample modal",-1),Qe={key:0,class:"flex flex-col lg:flex-row p-2 mb-4 w-full bg-white rounded-lg border shadow-md sm:p-8 dark:bg-gray-800 dark:border-gray-700"},Re={class:"px-2 lg:w-2/3"},Ke={class:"mb-5 text-3xl md:text-5xl font-bold text-gray-900 dark:text-white text-center drop-shadow-lg"},Be={class:"mb-5 text-xl md:text-3xl lg:text-5xl font-bold text-gray-700 dark:text-gray-200 text-center drop-shadow-lg"},Ge={class:"flex flex-col md:flex-row mt-5 mb-5"},Ee={class:"md:w-1/2"},Ie={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},je={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},Fe={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},Ue={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},Xe={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},qe={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},Oe={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},Ae={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},Ye={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},ze={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},Ze={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},Je={class:"md:mb-3 text-base text-gray-500 md:text-lg dark:text-gray-400"},We=e("div",{class:"justify-center items-center space-y-4 sm:flex sm:space-y-0 sm:space-x-4"},null,-1),et={class:"lg:w-1/3 bg-white rounded-lg border border-gray-200 shadow-md dark:bg-gray-800 dark:border-gray-700"},tt={class:"relative"},at=e("img",{class:"rounded-t-lg w-full",src:ye,alt:""},null,-1),lt={class:"sticker absolute text-9xl text-white font-bold left-1/2 top-1/2 -translate-x-2/4 -translate-y-2/4 drop-shadow-lg"},st={class:"p-5"},ot={key:3},nt=e("h5",{class:"mb-5 text-center text-2xl font-bold tracking-tight text-gray-900 dark:text-white"}," Noteworthy technology ",-1),rt={key:3,class:"p-3 bg-gray-100/50 dark:bg-slate-800"},dt={key:0},it=e("th",null,"STT",-1),ut=e("th",null,"MSSV",-1),ct=e("th",null,[M("T\xCAN "),e("span",{class:"hidden lg:inline"}," - NG\xC0Y SINH - NG\xC0NH")],-1),gt=e("th",{class:"lg:hidden"},"NG\xC0Y SINH",-1),mt=e("th",{class:"lg:hidden"},"NG\xC0NH",-1),ht=e("th",{class:"whitespace-nowrap"},"S\u1ED0 V\xC0O S\u1ED4",-1),bt=e("th",null,"GDQP",-1),yt=e("th",{class:"whitespace-nowrap"},"THI\u1EBEU HS, HP",-1),vt=e("th",null,"KH\u1EA2O S\xC1T",-1),_t=e("th",null,"L\u1EC4 PH\u1EE4C",-1),xt=e("th",null,"TR\u1EA0NG TH\xC1I",-1),ft={"data-label":"STT"},pt={"data-label":"MSSV"},kt={"data-label":"T\xEAn",class:"lg:whitespace-nowrap"},wt={class:"font-bold"},St={class:"hidden lg:block"},Tt={class:"hidden lg:block"},Ct={"data-label":"Ng\xE0y Sinh",class:"lg:hidden"},Nt={"data-label":"Ng\xE0nh",class:"lg:hidden"},Lt={"data-label":"S\u1ED1 V\xE0o S\u1ED5"},$t={"data-label":"GDQP"},Dt={"data-label":"Thi\u1EBFu HS, HP"},Pt={"data-label":"Kh\u1EA3o s\xE1t"},Ht={"data-label":"L\u1EC5 Ph\u1EE5c"},Vt={class:"before:hidden lg:w-1 whitespace-nowrap"},Mt={key:0},Qt={key:2},Rt={class:"p-3 lg:px-6 border-t border-gray-100 dark:border-slate-800 select-none"},Kt={key:2},Bt={key:3},Gt={key:0},Et={__name:"TableStudentQueue",props:{checkable:Boolean},setup(k){const _=ne(),h=z();re();const Z=b(()=>h.userEmail),Q=o=>h.transferToProcess(o),R=o=>h.transferToFisnish(o),$=o=>h.transferToLastQueue(o),K=o=>h.transferToOldPositionQueue(o),D=o=>h.removeFromQueue(o),B=b(()=>h.students.filter(a=>a.TrangThai==3).length),G=b(()=>{let o=h.students;return o=o.filter(a=>a.TrangThai==1||a.TrangThai==2),o.sort((a,l)=>new Date(a.NgayTao)-new Date(l.NgayTao))}),s=b(()=>G.value.filter(a=>a.TrangThai==1||a.TrangThai==2&&(a.NguoiXuLy==""||a.NguoiXuLy==Z.value)).shift()),E=b(()=>G.value.filter(a=>a!=s.value)),I=p(!1),j=p(!1),T=b(()=>h.apiLoading),C=p(10),d=p(1),x=p(0),f=p(0),w=p([]),J=b(()=>E.value.slice(C.value*(d.value-1),C.value*d.value)),W=b(()=>d.value<i.value?d.value+1:i.value),ee=b(()=>d.value>1?d.value-1:1),i=b(()=>Math.ceil(E.value.length/C.value)),te=b(()=>d.value),ae=b(()=>{const o=[];if(i.value<=7)for(let a=1;a<=i.value;a++)o.push(a);else{d.value>3?x.value=2:x.value=d.value-1,d.value<i.value-2?f.value=2:f.value=i.value-d.value,f.value=x.value<2?f.value+(2-x.value):f.value,x.value=f.value<2?x.value+(2-f.value):x.value;for(let a=x.value;a>0;a--)o.push(d.value-a);o.push(d.value);for(let a=0;a<f.value;a++)o.push(d.value+a+1)}return o}),le=(o,a)=>{const l=[];return o.forEach(S=>{a(S)||l.push(S)}),l},se=(o,a)=>{o?w.value.push(a):w.value=le(w.value,l=>l.id===a.id)},F=o=>{if(o.key==="Enter")s.value.TrangThai===1&&Q(s.value.Row);else if(o.key===" "||o.key==="Spacebar"||o.ctrlKey&&o.key==="s")o.preventDefault(),s.value.TrangThai===2&&R(s.value.Row);else if(o.keyCode===120){if(o.preventDefault(),s.value){const a=`M\u1EDDi b\u1EA1n ${s.value.HoTen}, \u0111\u1EBFn qu\u1EA7y s\u1ED1 1, \u0111\u1EC3 nh\u1EADn b\u1EB1ng`;U(a)}}else o.keyCode===8?(o.preventDefault(),s.value&&K(s.value.Row)):o.keyCode===39?(o.preventDefault(),s.value&&$(s.value.Row)):o.shiftKey&&o.keyCode===46&&(o.preventDefault(),s.value&&D(s.value.Row))},U=o=>{const a=new SpeechSynthesisUtterance(o);a.pitch=1.2,a.rate=.5,a.volume=.8,speechSynthesis.speak(a)};return de(()=>{h.isKeyQueueViewRegistered||(window.addEventListener("keydown",F),h.isKeyQueueViewRegistered=!0)}),ie(()=>{window.removeEventListener("keydown",F),h.isKeyQueueViewRegistered=!1}),(o,a)=>(n(),g(L,null,[m(A,{modelValue:I.value,"onUpdate:modelValue":a[0]||(a[0]=l=>I.value=l),title:"Sample modal"},{default:v(()=>[Pe,He]),_:1},8,["modelValue"]),m(A,{modelValue:j.value,"onUpdate:modelValue":a[1]||(a[1]=l=>j.value=l),"large-title":"Please confirm",button:"danger","has-cancel":""},{default:v(()=>[Ve,Me]),_:1},8,["modelValue"]),t(s)?(n(),g("section",Qe,[e("div",Re,[e("h4",Ke,r(t(s).HoTen),1),e("h5",Be,r(t(s).SoVaoSo),1),e("div",Ge,[e("div",Ee,[e("p",Ie," MSSV: "+r(t(s).MSSV),1),e("p",je," Ng\xE0y sinh: "+r(new Date(t(s).NgaySinh).toLocaleDateString()=="Invalid Date"?t(s).NgaySinh:new Date(t(s).NgaySinh).toLocaleDateString("vi",{dateStyle:"short"})),1),e("p",Fe," Ng\xE0nh: "+r(t(s).Nganh),1),e("p",Ue," X\u1EBFp Lo\u1EA1i: "+r(t(s).XepLoai),1),e("p",Xe," \u0110i\u1EC7n tho\u1EA1i: "+r(t(s).DienThoai.toLocaleString("vi",{minimumIntegerDigits:10,useGrouping:!1})),1),e("p",qe," Email: "+r(t(s).Email),1)]),e("div",null,[e("p",Oe," S\u1ED1 hi\u1EC7u b\u1EB1ng: "+r(t(s).SoHieuBang),1),e("p",Ae," GDQP: "+r(t(s).GDQP),1),e("p",Ye," Thi\u1EBFu HS, HP: "+r(t(s).ThieuHSHP),1),e("p",ze," Kh\u1EA3o s\xE1t: "+r(t(s).KhaoSat),1),e("p",Ze," L\u1EC5 ph\u1EE5c: "+r(t(s).LePhuc),1),e("p",Je," Th\u1EDDi gian: "+r(new Date(t(s).NgayTao).toLocaleString()=="Invalid Date"?t(s).NgayTao:new Date(t(s).NgayTao).toLocaleString("vi")),1)])]),We]),e("div",et,[e("div",tt,[at,e("span",lt,r(t(B)+1),1)]),e("div",st,[m(N,{type:"justify-center lg:justify-around mb-5","no-wrap":""},{default:v(()=>[t(s).TrangThai==1?(n(),c(De,{key:0,onClick:a[2]||(a[2]=l=>Q(t(s).Row))})):t(s).TrangThai==2?(n(),c(Y,{key:1,onClick:a[3]||(a[3]=l=>R(t(s).Row))})):t(s).TrangThai==3?(n(),c(xe,{key:2})):(n(),g("span",ot,"Kh\xE1c"))]),_:1}),nt,m(N,{type:"justify-center mb-5","no-wrap":""},{default:v(()=>[m(y,{color:"success",icon:t(ue),small:"",onClick:a[4]||(a[4]=l=>U(`M\u1EDDi b\u1EA1n ${t(s).HoTen}, \u0111\u1EBFn qu\u1EA7y s\u1ED1 1, \u0111\u1EC3 nh\u1EADn b\u1EB1ng`))},null,8,["icon"]),t(s).TrangThai===2?(n(),c(y,{key:0,color:"warning",icon:t(X),small:"",onClick:a[5]||(a[5]=l=>K(t(s).Row))},null,8,["icon"])):u("",!0),t(s).TrangThai!=2?(n(),c(y,{key:1,color:"warning",icon:t(X),small:"",disabled:""},null,8,["icon"])):u("",!0),m(y,{color:"info",icon:t(q),small:"",onClick:a[6]||(a[6]=l=>$(t(s).Row))},null,8,["icon"]),m(y,{color:"danger",icon:t(O),small:"",onClick:a[7]||(a[7]=l=>D(t(s).Row))},null,8,["icon"])]),_:1})])])])):u("",!0),t(T)&&!t(s)?(n(),c(Ce,{key:1})):u("",!0),!t(T)&&!t(s)?(n(),c(V,{key:2,empty:""})):u("",!0),w.value.length?(n(),g("div",rt,[(n(!0),g(L,null,H(w.value,l=>(n(),g("span",{key:l.id,class:"inline-block px-2 py-1 rounded-sm mr-2 text-sm bg-gray-100 dark:bg-slate-700"},r(l.name),1))),128))])):u("",!0),e("table",null,[e("thead",null,[e("tr",null,[k.checkable?(n(),g("th",dt)):u("",!0),it,ut,ct,gt,mt,ht,bt,yt,vt,_t,xt])]),e("tbody",null,[(n(!0),g(L,null,H(t(J),(l,S)=>(n(),g("tr",{key:l},[k.checkable?(n(),c(_e,{key:0,onChecked:P=>se(P,l)},null,8,["onChecked"])):u("",!0),e("td",ft,r(S+2+t(B)+(d.value-1)*C.value),1),e("td",pt,r(l.MSSV),1),e("td",kt,[e("p",wt,r(l.HoTen),1),e("small",St,r(new Date(l.NgaySinh).toLocaleDateString()=="Invalid Date"?l.NgaySinh:new Date(l.NgaySinh).toLocaleDateString("vi",{dateStyle:"short"})),1),e("small",Tt,r(l.Nganh),1)]),e("td",Ct,r(new Date(l.NgaySinh).toLocaleDateString()=="Invalid Date"?l.NgaySinh:new Date(l.NgaySinh).toLocaleDateString()),1),e("td",Nt,r(l.Nganh),1),e("td",Lt,r(l.SoVaoSo),1),e("td",$t,r(l.GDQP),1),e("td",Dt,r(l.ThieuHSHP),1),e("td",Pt,r(l.KhaoSat),1),e("td",Ht,r(l.LePhuc),1),e("td",Vt,[m(N,{type:"justify-end","no-wrap":""},{default:v(()=>[l.TrangThai==1?(n(),g("span",Mt,[m(y,{color:"info",icon:t(q),small:"",onClick:a[8]||(a[8]=P=>$(t(s).Row))},null,8,["icon"]),m(y,{color:"danger",icon:t(O),small:"",onClick:P=>D(l.Row)},null,8,["icon","onClick"])])):l.TrangThai==2?(n(),c(Y,{key:1})):(n(),g("span",Qt,"Kh\xE1c"))]),_:2},1024)])]))),128))]),t(T)&&t(i)<=0?(n(),c(ve,{key:0,buttonSkeleton:"queue"})):u("",!0)]),!t(T)&&t(i)<=0?(n(),c(V,{key:4,empty:""})):u("",!0),e("div",Rt,[m(me,null,{default:v(()=>[m(N,null,{default:v(()=>[t(i)>0?(n(),c(y,{key:0,disabled:d.value===1,icon:t(ce),small:"",outline:t(_).darkMode,onClick:a[9]||(a[9]=l=>d.value=t(ee))},null,8,["disabled","icon","outline"])):u("",!0),d.value>3?(n(),c(y,{key:1,active:d.value==1,label:1,small:"",outline:t(_).darkMode,onClick:a[10]||(a[10]=l=>d.value=1)},null,8,["active","outline"])):u("",!0),d.value>4?(n(),g("span",Kt,"...")):u("",!0),(n(!0),g(L,null,H(t(ae),l=>(n(),c(y,{key:l,active:l===d.value,label:l,small:"",outline:t(_).darkMode,onClick:S=>d.value=l},null,8,["active","label","outline","onClick"]))),128)),d.value<t(i)-3?(n(),g("span",Bt,"...")):u("",!0),d.value<t(i)-2?(n(),c(y,{key:4,active:d.value==t(i),label:t(i),small:"",outline:t(_).darkMode,onClick:a[11]||(a[11]=l=>d.value=t(i))},null,8,["active","label","outline"])):u("",!0),t(i)>0?(n(),c(y,{key:5,disabled:d.value===t(i),icon:t(ge),small:"",outline:t(_).darkMode,onClick:a[12]||(a[12]=l=>d.value=t(W))},null,8,["disabled","icon","outline"])):u("",!0)]),_:1}),t(i)>0?(n(),g("small",Gt,"Page "+r(t(te))+" of "+r(t(i)),1)):u("",!0)]),_:1})])],64))}},At={__name:"QueueView",setup(k){return z(),p(!1),(_,h)=>(n(),c(he,null,{default:v(()=>[m(be,null,{default:v(()=>[m(V,{class:"mb-6","has-table":""},{default:v(()=>[m(Et)]),_:1})]),_:1})]),_:1}))}};export{At as default};
