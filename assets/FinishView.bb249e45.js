import{u as E,a as x,c as r,r as p,o as n,b as d,d as _,w as g,F as T,e as D,t as i,f as c,g as a,h,l as G,j as s,v as B,U as O,i as k,V as W,n as Y,p as L,q,S as X}from"./index.2f0e4f3c.js";import{_ as M}from"./CardBoxModal.494ff989.js";import{_ as z}from"./TableCheckboxCell.061cc477.js";import{_ as J}from"./SkeletonTable.ce695035.js";import{_ as Z}from"./ButtonFinish.5447307c.js";const ee=a("p",null,[L("Lorem ipsum dolor sit amet "),a("b",null,"adipiscing elit")],-1),ae=a("p",null,"This is sample modal",-1),le=a("p",null,[L("Lorem ipsum dolor sit amet "),a("b",null,"adipiscing elit")],-1),te=a("p",null,"This is sample modal",-1),se={key:0,class:"p-3 bg-gray-100/50 dark:bg-slate-800"},ne={key:0},oe=a("th",null,"STT",-1),ie=a("th",null,"MSSV",-1),ue=a("th",null,[L("T\xCAN "),a("span",{class:"hidden lg:inline"}," - NG\xC0Y SINH - NG\xC0NH")],-1),ce=a("th",{class:"lg:hidden"},"NG\xC0Y SINH",-1),de=a("th",{class:"lg:hidden"},"NG\xC0NH",-1),re=a("th",{class:"whitespace-nowrap"},"S\u1ED0 V\xC0O S\u1ED4",-1),he=a("th",null,"GDQP",-1),_e=a("th",{class:"whitespace-nowrap"},"THI\u1EBEU HS, HP",-1),ve=a("th",null,"KH\u1EA2O S\xC1T",-1),me=a("th",null,"L\u1EC4 PH\u1EE4C",-1),ge=a("th",null,"TR\u1EA0NG TH\xC1I",-1),pe={"data-label":"STT"},fe={"data-label":"MSSV"},Se={"data-label":"T\xEAn",class:"lg:whitespace-nowrap"},be={class:"font-bold"},ke={class:"hidden lg:block"},ye={class:"hidden lg:block"},Ne={"data-label":"Ng\xE0y Sinh",class:"lg:hidden"},Te={"data-label":"Ng\xE0nh",class:"lg:hidden"},we={"data-label":"S\u1ED1 V\xE0o S\u1ED5"},De={"data-label":"GDQP"},Le={"data-label":"Thi\u1EBFu HS, HP"},Pe={"data-label":"Kh\u1EA3o s\xE1t"},Ve={"data-label":"L\u1EC5 Ph\u1EE5c"},He={class:"before:hidden lg:w-1 whitespace-nowrap"},$e={class:"text-right"},Ce=a("br",null,null,-1),Ge={class:"text-right"},Me={class:"p-3 lg:px-6 border-t border-gray-100 dark:border-slate-800 select-none"},xe={key:2},Be={key:3},Ie={key:0},Re={__name:"TableStudentsFinishList",props:{checkable:Boolean},setup(w){const f=E(),y=x(),P=r(()=>y.transferToWaitListRow),V=r(()=>{let u=y.students;return P.value&&(u[P.value-2].TrangThai=1),u=u.filter(l=>l.TrangThai==3),u.sort((l,e)=>new Date(l.ThoiGianNhanBang)-new Date(e.ThoiGianNhanBang))}),H=p(!1),$=p(!1),C=r(()=>y.apiLoading),N=p(10),t=p(1),v=p(0),m=p(0),S=p([]),I=r(()=>V.value.slice(N.value*(t.value-1),N.value*t.value)),R=r(()=>t.value<o.value?t.value+1:o.value),F=r(()=>t.value>1?t.value-1:1),o=r(()=>Math.ceil(V.value.length/N.value)),U=r(()=>t.value),j=r(()=>{const u=[];if(o.value<=7)for(let l=1;l<=o.value;l++)u.push(l);else{t.value>3?v.value=2:v.value=t.value-1,t.value<o.value-2?m.value=2:m.value=o.value-t.value,m.value=v.value<2?m.value+(2-v.value):m.value,v.value=m.value<2?v.value+(2-m.value):v.value;for(let l=v.value;l>0;l--)u.push(t.value-l);u.push(t.value);for(let l=0;l<m.value;l++)u.push(t.value+l+1)}return u}),A=(u,l)=>{const e=[];return u.forEach(b=>{l(b)||e.push(b)}),e},K=(u,l)=>{u?S.value.push(l):S.value=A(S.value,e=>e.id===l.id)};return(u,l)=>(n(),d(T,null,[_(M,{modelValue:H.value,"onUpdate:modelValue":l[0]||(l[0]=e=>H.value=e),title:"Sample modal"},{default:g(()=>[ee,ae]),_:1},8,["modelValue"]),_(M,{modelValue:$.value,"onUpdate:modelValue":l[1]||(l[1]=e=>$.value=e),"large-title":"Please confirm",button:"danger","has-cancel":""},{default:g(()=>[le,te]),_:1},8,["modelValue"]),S.value.length?(n(),d("div",se,[(n(!0),d(T,null,D(S.value,e=>(n(),d("span",{key:e.id,class:"inline-block px-2 py-1 rounded-sm mr-2 text-sm bg-gray-100 dark:bg-slate-700"},i(e.name),1))),128))])):c("",!0),a("table",null,[a("thead",null,[a("tr",null,[w.checkable?(n(),d("th",ne)):c("",!0),oe,ie,ue,ce,de,re,he,_e,ve,me,ge])]),a("tbody",null,[(n(!0),d(T,null,D(s(I),(e,b)=>(n(),d("tr",{key:e.Row},[w.checkable?(n(),h(z,{key:0,onChecked:Q=>K(Q,e)},null,8,["onChecked"])):c("",!0),a("td",pe,i(b+1+(t.value-1)*N.value),1),a("td",fe,i(e.MSSV),1),a("td",Se,[a("p",be,i(e.HoTen),1),a("small",ke,i(new Date(e.NgaySinh).toLocaleDateString()=="Invalid Date"?e.NgaySinh:new Date(e.NgaySinh).toLocaleDateString()),1),a("small",ye,i(e.Nganh),1)]),a("td",Ne,i(new Date(e.NgaySinh).toLocaleDateString()=="Invalid Date"?e.NgaySinh:new Date(e.NgaySinh).toLocaleDateString()),1),a("td",Te,i(e.Nganh),1),a("td",we,i(e.SoVaoSo),1),a("td",De,i(e.GDQP),1),a("td",Le,i(e.ThieuHSHP),1),a("td",Pe,i(e.KhaoSat),1),a("td",Ve,i(e.LePhuc),1),a("td",He,[_(G,{type:"justify-start lg:justify-end","no-wrap":""},{default:g(()=>[_(Z)]),_:1}),a("small",$e,i(new Date(e.ThoiGianNhanBang).toLocaleString()=="Invalid Date"?e.ThoiGianNhanBang:new Date(e.ThoiGianNhanBang).toLocaleString("vi")),1),Ce,a("small",Ge,"@"+i(e.NguoiXuLy),1)])]))),128))]),s(C)&&s(o)<=0?(n(),h(J,{key:0})):c("",!0)]),!s(C)&&s(o)<=0?(n(),h(B,{key:1,empty:""})):c("",!0),a("div",Me,[_(Y,null,{default:g(()=>[_(G,null,{default:g(()=>[s(o)>0?(n(),h(k,{key:0,disabled:t.value===1,icon:s(O),small:"",outline:s(f).darkMode,onClick:l[2]||(l[2]=e=>t.value=s(F))},null,8,["disabled","icon","outline"])):c("",!0),t.value>3?(n(),h(k,{key:1,active:t.value==1,label:1,small:"",outline:s(f).darkMode,onClick:l[3]||(l[3]=e=>t.value=1)},null,8,["active","outline"])):c("",!0),t.value>4?(n(),d("span",xe,"...")):c("",!0),(n(!0),d(T,null,D(s(j),e=>(n(),h(k,{key:e,active:e===t.value,label:e,small:"",outline:s(f).darkMode,onClick:b=>t.value=e},null,8,["active","label","outline","onClick"]))),128)),t.value<s(o)-3?(n(),d("span",Be,"...")):c("",!0),t.value<s(o)-2?(n(),h(k,{key:4,active:t.value==s(o),label:s(o),small:"",outline:s(f).darkMode,onClick:l[4]||(l[4]=e=>t.value=s(o))},null,8,["active","label","outline"])):c("",!0),s(o)>0?(n(),h(k,{key:5,disabled:t.value===s(o),icon:s(W),small:"",outline:s(f).darkMode,onClick:l[5]||(l[5]=e=>t.value=s(R))},null,8,["disabled","icon","outline"])):c("",!0)]),_:1}),s(o)>0?(n(),d("small",Ie,"Page "+i(s(U))+" of "+i(s(o)),1)):c("",!0)]),_:1})])],64))}},Qe={__name:"FinishView",setup(w){return x(),(f,y)=>(n(),h(q,null,{default:g(()=>[_(X,null,{default:g(()=>[_(B,{class:"mb-6","has-table":""},{default:g(()=>[_(Re)]),_:1})]),_:1})]),_:1}))}};export{Qe as default};
